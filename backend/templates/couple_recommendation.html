{% extends 'base.html' %}

{% block title %}情侣推荐 | 恋爱空间{% endblock %}

{% block content %}
<main class="container mx-auto px-6 pt-24 pb-16">
    <!-- 推荐分类标签 -->
    <div class="mb-8 animate-slide-up" style="animation-delay: 0.1s">
        <div class="flex overflow-x-auto pb-2 space-x-3 hide-scrollbar scrollbar-hide">
            <button class="px-4 py-2 bg-primary text-white rounded-full whitespace-nowrap hover-scale">
                全部推荐
            </button>
            <button
                class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-full whitespace-nowrap hover:bg-neutral-200 transition-custom hover-scale">
                情侣挑战
            </button>
            <button
                class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-full whitespace-nowrap hover:bg-neutral-200 transition-custom hover-scale">
                共同兴趣
            </button>
            <button
                class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-full whitespace-nowrap hover:bg-neutral-200 transition-custom hover-scale">
                情感培养
            </button>
            <button
                class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-full whitespace-nowrap hover:bg-neutral-200 transition-custom hover-scale">
                情侣技能
            </button>
            <button
                class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-full whitespace-nowrap hover:bg-neutral-200 transition-custom hover-scale">
                回忆珍藏
            </button>
        </div>
    </div>

    <!-- 推荐内容区 -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- 情侣挑战 -->
        <div class="bg-white rounded-xl shadow-custom overflow-hidden post-card animate-slide-up"
            style="animation-delay: 0.2s">
            <div class="relative">
                <img src="https://picsum.photos/seed/couplechallenge/600/400" alt="30天情侣挑战"
                    class="w-full h-48 object-cover">
                <div class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md">
                    <i class="fa fa-heart-o text-primary"></i>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                    <span class="px-2 py-1 bg-primary/90 text-white text-xs rounded-full">情侣挑战</span>
                </div>
            </div>
            <div class="p-5">
                <h3 class="font-bold text-lg mb-2">30天情侣挑战计划</h3>
                <p class="text-neutral-600 text-sm mb-4">每天一个小挑战，帮助你们更了解彼此，增强感情。挑战内容包括分享秘密、共同完成任务、表达爱意等。</p>
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/seed/user4/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user5/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user6/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                        </div>
                        <span class="ml-2 text-xs text-neutral-500">8,542对情侣已参与</span>
                    </div>
                    <div class="flex items-center">
                        <button
                            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-custom">
                            开始挑战
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 共同兴趣 -->
        <div class="bg-white rounded-xl shadow-custom overflow-hidden post-card animate-slide-up"
            style="animation-delay: 0.3s">
            <div class="relative">
                <img src="https://picsum.photos/seed/couplehobby/600/400" alt="情侣摄影" class="w-full h-48 object-cover">
                <div class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md">
                    <i class="fa fa-heart-o text-primary"></i>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                    <span class="px-2 py-1 bg-secondary/90 text-white text-xs rounded-full">共同兴趣</span>
                </div>
            </div>
            <div class="p-5">
                <h3 class="font-bold text-lg mb-2">情侣摄影入门指南</h3>
                <p class="text-neutral-600 text-sm mb-4">一起学习摄影，记录生活中的美好瞬间。从基础技巧到创意拍摄，适合零基础的情侣共同学习。</p>
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/seed/user7/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user8/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user9/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                        </div>
                        <span class="ml-2 text-xs text-neutral-500">4,219对情侣已学习</span>
                    </div>
                    <div class="flex items-center">
                        <button
                            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-custom">
                            查看指南
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 情感培养 -->
        <div class="bg-white rounded-xl shadow-custom overflow-hidden post-card animate-slide-up"
            style="animation-delay: 0.4s">
            <div class="relative">
                <img src="https://picsum.photos/seed/couplecommunication/600/400" alt="情感沟通"
                    class="w-full h-48 object-cover">
                <div class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md">
                    <i class="fa fa-heart-o text-primary"></i>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                    <span class="px-2 py-1 bg-purple-500/90 text-white text-xs rounded-full">情感培养</span>
                </div>
            </div>
            <div class="p-5">
                <h3 class="font-bold text-lg mb-2">情侣有效沟通技巧</h3>
                <p class="text-neutral-600 text-sm mb-4">学习如何更好地沟通，减少矛盾和误解。包括积极倾听、表达感受、解决冲突等实用技巧。</p>
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/seed/user10/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user11/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user12/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                        </div>
                        <span class="ml-2 text-xs text-neutral-500">12,783对情侣已学习</span>
                    </div>
                    <div class="flex items-center">
                        <button
                            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-custom">
                            学习技巧
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 情侣技能 -->
        <div class="bg-white rounded-xl shadow-custom overflow-hidden post-card animate-slide-up"
            style="animation-delay: 0.5s">
            <div class="relative">
                <img src="https://picsum.photos/seed/coupleskill/600/400" alt="情侣瑜伽" class="w-full h-48 object-cover">
                <div class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md">
                    <i class="fa fa-heart-o text-primary"></i>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                    <span class="px-2 py-1 bg-green-500/90 text-white text-xs rounded-full">情侣技能</span>
                </div>
            </div>
            <div class="p-5">
                <h3 class="font-bold text-lg mb-2">20个情侣瑜伽动作</h3>
                <p class="text-neutral-600 text-sm mb-4">一起练习瑜伽，增强身体柔韧性的同时，增进彼此的信任和默契。每个动作都有详细的图文说明。</p>
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/seed/user13/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user14/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user15/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                        </div>
                        <span class="ml-2 text-xs text-neutral-500">5,672对情侣已练习</span>
                    </div>
                    <div class="flex items-center">
                        <button
                            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-custom">
                            查看动作
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 回忆珍藏 -->
        <div class="bg-white rounded-xl shadow-custom overflow-hidden post-card animate-slide-up"
            style="animation-delay: 0.6s">
            <div class="relative">
                <img src="https://picsum.photos/seed/couplememory/600/400" alt="数字纪念册" class="w-full h-48 object-cover">
                <div class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md">
                    <i class="fa fa-heart-o text-primary"></i>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                    <span class="px-2 py-1 bg-yellow-500/90 text-white text-xs rounded-full">回忆珍藏</span>
                </div>
            </div>
            <div class="p-5">
                <h3 class="font-bold text-lg mb-2">制作你们的数字纪念册</h3>
                <p class="text-neutral-600 text-sm mb-4">用照片、文字和视频记录你们的恋爱故事，创建独一无二的数字纪念册。支持在线分享和下载保存。</p>
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/seed/user16/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user17/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user18/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                        </div>
                        <span class="ml-2 text-xs text-neutral-500">3,241对情侣已制作</span>
                    </div>
                    <div class="flex items-center">
                        <button
                            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-custom">
                            开始制作
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 情感日记 -->
        <div class="bg-white rounded-xl shadow-custom overflow-hidden post-card animate-slide-up"
            style="animation-delay: 0.7s">
            <div class="relative">
                <img src="https://picsum.photos/seed/couplediary/600/400" alt="情侣日记" class="w-full h-48 object-cover">
                <div class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md">
                    <i class="fa fa-heart-o text-primary"></i>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                    <span class="px-2 py-1 bg-red-500/90 text-white text-xs rounded-full">情感培养</span>
                </div>
            </div>
            <div class="p-5">
                <h3 class="font-bold text-lg mb-2">情侣秘密日记本</h3>
                <p class="text-neutral-600 text-sm mb-4">每天记录你们的感受和想法，只有你们两个人可以查看。这是一个安全的空间，让你们更了解彼此。</p>
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/seed/user19/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user20/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/seed/user21/100/100" alt="用户头像"
                                class="w-8 h-8 rounded-full border-2 border-white">
                        </div>
                        <span class="ml-2 text-xs text-neutral-500">9,345对情侣已使用</span>
                    </div>
                    <div class="flex items-center">
                        <button
                            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-custom">
                            开始记录
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 更多推荐按钮 -->
    <div class="mt-10 text-center animate-slide-up" style="animation-delay: 0.8s">
        <button
            class="px-6 py-3 bg-white border border-primary text-primary rounded-lg hover:bg-primary/5 transition-custom inline-flex items-center">
            <span>查看更多推荐</span>
            <i class="fa fa-chevron-down ml-2"></i>
        </button>
    </div>
</main>

<!-- JavaScript -->
<script>
    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function () {
        const dateElement = document.querySelector('#days-together span');
        const dateStr = dateElement.textContent.trim()

        // 返回按钮
        document.getElementById('backBtn').addEventListener('click', function () {
            window.history.back();
        });

        // 分类标签点击效果
        const categoryButtons = document.querySelectorAll('.overflow-x-auto button');
        categoryButtons.forEach(button => {
            button.addEventListener('click', function () {
                // 移除所有选中状态
                categoryButtons.forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white');
                    btn.classList.add('bg-neutral-100', 'text-neutral-700');
                });

                // 设置当前选中状态
                this.classList.remove('bg-neutral-100', 'text-neutral-700');
                this.classList.add('bg-primary', 'text-white');

                // 模拟加载更多内容
                loadMoreContent(this.textContent.trim());
            });
        });

        // 收藏按钮点击效果
        const favoriteButtons = document.querySelectorAll('.fa-heart-o');
        favoriteButtons.forEach(button => {
            button.addEventListener('click', function () {
                this.classList.toggle('fa-heart-o');
                this.classList.toggle('fa-heart');

                if (this.classList.contains('fa-heart')) {
                    this.parentElement.classList.add('bg-primary/20');
                    this.parentElement.classList.remove('bg-white');
                    this.classList.add('text-primary');

                    // 添加动画效果
                    this.classList.add('like-animation');
                    setTimeout(() => {
                        this.classList.remove('like-animation');
                    }, 500);
                } else {
                    this.parentElement.classList.remove('bg-primary/20');
                    this.parentElement.classList.add('bg-white');
                    this.classList.remove('text-primary');
                }
            });
        });

        // 模拟加载更多内容
        function loadMoreContent(category) {
            // 显示加载中状态
            const loadingToast = document.createElement('div');
            loadingToast.className = 'fixed bottom-20 right-4 px-6 py-3 bg-blue-500 text-white rounded-lg shadow-lg z-50';
            loadingToast.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>加载中...';
            document.body.appendChild(loadingToast);

            // 模拟加载延迟
            setTimeout(() => {
                // 移除加载提示
                document.body.removeChild(loadingToast);

                // 显示成功提示
                const successToast = document.createElement('div');
                successToast.className = 'fixed bottom-20 right-4 px-6 py-3 bg-green-500 text-white rounded-lg shadow-lg z-50';
                successToast.innerHTML = `<i class="fa fa-check mr-2"></i>已加载${category}内容`;
                document.body.appendChild(successToast);

                // 3秒后移除成功提示
                setTimeout(() => {
                    document.body.removeChild(successToast);
                }, 3000);
            }, 1000);
        }

        // 获取原始日期字符串（格式：2025年7月29日 13:58）
        // 解析日期字符串为 Date 对象
        const [year, month, day, hour, minute] = dateStr.match(/\d+/g);
        const joinedDate = new Date(year, month - 1, day, hour, minute); // 月份从0开始

        // 计算当前时间与指定日期的差值（毫秒）
        const now = new Date();
        const diffMs = now - joinedDate;

        // 转换为天数（取绝对值）
        const diffDays = Math.abs(Math.floor(diffMs / (1000 * 60 * 60 * 24)));

        // 更新DOM显示
        dateElement.textContent = diffDays;
    });



</script>
{% endblock %}