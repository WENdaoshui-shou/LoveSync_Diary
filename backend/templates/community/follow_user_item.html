<div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
    <div class="p-6">
        <div class="flex items-center justify-between mb-4">
            <!-- 用户头像 -->
            <a href="{% url 'core:user_profile' user.username %}" class="block w-12 h-12 rounded-full overflow-hidden hover:scale-110 hover:shadow-lg transition-all duration-300" title="查看{{ user.name }}的主页">
                {% if user.profile.userAvatar %}
                <img src="{{ user.profile.userAvatar.url }}" alt="{{ user.name }}的头像" class="w-full h-full object-cover">
                {% else %}
                <div class="w-full h-full bg-neutral-200 flex items-center justify-center text-neutral-500">
                    <i class="fa-solid fa-user text-xl"></i>
                </div>
                {% endif %}
            </a>
            
            <!-- 操作按钮 -->
            {% if list_type == 'following' %}
            <!-- 关注列表：显示"取消关注"按钮 -->
            <button 
                data-follow-action 
                data-user-id="{{ user.id }}"
                class="text-sm bg-neutral-200 text-neutral-700 rounded-full px-3 py-1 hover:bg-neutral-300 transition-all duration-300"
                onclick="toggleFollow({{ user.id }}, this)">
                <i class="fa-solid fa-user-minus"></i> 取消关注
            </button>
            {% else %}
            <!-- 粉丝列表：显示"关注/已关注"按钮 -->
            {% if user != request.user %}
                {% if request.user.following.filter(followed=user).exists %}
                <button 
                    data-follow-action 
                    data-user-id="{{ user.id }}"
                    class="text-sm bg-neutral-200 text-neutral-700 rounded-full px-3 py-1 hover:bg-neutral-300 transition-all duration-300"
                    onclick="toggleFollow({{ user.id }}, this)">
                    <i class="fa-solid fa-check"></i> 已关注
                </button>
                {% else %}
                <button 
                    data-follow-action 
                    data-user-id="{{ user.id }}"
                    class="text-sm bg-primary text-white rounded-full px-3 py-1 hover:bg-primary/90 transition-all duration-300"
                    onclick="toggleFollow({{ user.id }}, this)">
                    <i class="fa-solid fa-plus"></i> 关注
                </button>
                {% endif %}
            {% endif %}
            {% endif %}
        </div>
        
        <!-- 用户信息 -->
        <div class="mb-3">
            <a href="{% url 'core:user_profile' user.username %}" class="font-semibold text-neutral-900 hover:text-primary transition-all duration-300 block mb-1" title="查看{{ user.name }}的主页">
                {{ user.name }}
            </a>
            <p class="text-neutral-500 text-xs">@{{ user.username }}</p>
        </div>
        
        <!-- 关注时间 -->
        <div class="text-neutral-500 text-xs">
            {% if list_type == 'following' %}
            关注于 {{ follow_time|date:"Y-m-d H:i" }}
            {% else %}
            关注你于 {{ follow_time|date:"Y-m-d H:i" }}
            {% endif %}
        </div>
    </div>
</div>