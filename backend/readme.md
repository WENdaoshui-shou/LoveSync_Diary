<!-- @format -->

# 💌 双人日记 (LoveSync Diary)

「用文字编织爱的轨迹，让每一刻都值得回忆」  
专为情侣设计的实时协作日记应用，让彼此的生活点滴在此交汇。通过同步记录、情感统计与智能陪伴，打造只属于你们的私密空间。

✨ **产品亮点**

- 实时协作无距离，再远也能共写日常
- 心情可视化呈现，读懂彼此的喜怒哀乐
- AI 助手暖心陪伴，记录更有温度
- 从日记到商城，覆盖情侣生活全场景
- 智能商城系统，为情侣提供专属购物体验
- 动态分类导航，快速找到心仪商品
- 限时秒杀活动，享受超值优惠
- VIP专属特权，尊享独家商品和折扣
- 情侣互动游戏，增添生活乐趣
- 社区分享交流，获取恋爱灵感
- 历史回顾分析，见证感情成长
- 多维度数据统计，了解彼此内心

## 🌟 核心功能

| 功能                       | 亮点                                                                                               |
| -------------------------- | -------------------------------------------------------------------------------------------------- |
| 📝 **实时协作编辑**        | 基于 Operational Transformation 算法，实现工业级双人同时编辑不冲突，内容秒级同步，仿佛就在彼此身边 |
| 🎭 **心情记录与统计**      | 用彩虹色标标记每日心情（快乐/心动/平静/悲伤等），自动生成每周/月度情绪曲线，读懂彼此的内心变化     |
| 🔒 **内容分享与权限**      | 灵活设置「私密/仅伴侣可见」，保护小秘密的同时，让重要时刻彼此知晓                                  |
| ⏳ **历史记录回溯**        | 自动保存每一次编辑痕迹，支持查看过往版本，找回不小心删改的珍贵片段                                 |
| 📱 **全设备适配**          | 手机、平板、电脑无缝切换，睡前躺在床上写，工作间隙也能回复，随时随地延续记录                       |
| 🤖 **AI 智能助手「小爱」** | 功能指引、情感建议、灵感生成，全方位陪伴你们的记录之旅（详情见下文）                               |
| 🛒 **智能商城系统**        | 专为情侣打造的购物平台，提供分类商品浏览、活动促销、个性化推荐等功能                               |
| 📅 **限时秒杀活动**        | 实时倒计时显示，精选商品低至3折起，支持VIP专属秒杀活动                                             |
| 🏷️ **动态分类导航**        | 多级分类展示，快速定位商品类别，支持按新品、折扣等筛选                                             |
| 💎 **VIP专属特权**         | VIP用户专享商品和活动，享受更多优惠和独家福利                                                      |
| 📷 **共享相册**            | 批量上传照片，自动按拍摄时间排序，每张照片可添加备注，记录美好瞬间                                 |
| 📱 **情侣动态**            | 发布生活点滴，支持标签、图片、评论互动，可分享到社区，记录恋爱日常                                 |
| 🎮 **情侣游戏**            | 专属情侣互动游戏，增添生活乐趣，促进感情升温                                                       |
| 🌐 **社区交流**            | 浏览其他情侣的公开内容，获取相处灵感，参与话题讨论，建立恋爱社交圈                                 |
| 💌 **消息通知**            | 实时消息提醒，不错过伴侣的每一条动态和重要通知                                                     |
| 📊 **数据统计分析**        | 情绪分布统计、互动频率分析、年度报告生成，见证感情成长历程                                         |
| 👫 **伴侣绑定**            | 生成邀请码绑定伴侣账号，建立专属情侣空间，共享私密内容                                             |

## 🤖 AI 智能助手「LoveSync」

不止是工具，更是你们的情感小管家：

1. **功能向导**
   - 秒答操作疑问：「如何恢复误删的日记？」「共享相册怎么创建？」
   - 场景化功能推荐：「纪念日快到了，需要开启倒计时提醒吗？」

2. **情感陪伴**
   - 矛盾调解建议：「冷战时，试试用日记写下想对 TA 说的话」
   - 纪念日灵感：自动生成专属祝福文案，搭配日记模板
   - 情绪关怀：根据双方心情数据提醒：「最近你们都有点忙，周末一起写篇回忆吧～」

3. **内容辅助**
   - 日记主题推荐：按季节（「夏日约会清单」）、节日（「跨年夜的约定」）生成灵感
   - 相册旁白补全：根据照片内容生成温馨描述，比如「第一次牵手的海边，风都是甜的」
   - 文案优化：让普通日常更有诗意，保留原意更添温度

4. **隐私承诺**  
   小爱仅处理公开功能逻辑，绝不会读取或存储你们的私密日记内容，安全感拉满～

## 🚀 快速开始

### 环境要求

- Python 3.8+
- 依赖项见 `backend/requirements.txt`

### 项目结构

```
LoveSync_Diary/
├── backend/            # Django后端
│   ├── LoveSync/       # Django项目配置
│   ├── AI/             # AI智能助手模块
│   ├── articles/       # 文章模块
│   ├── collab/         # 实时协作模块
│   ├── core/           # 核心功能模块
│   ├── couple/         # 情侣关系模块
│   ├── game/           # 游戏模块
│   ├── history/        # 历史记录模块
│   ├── mall/           # 商城模块
│   ├── message/        # 消息通知模块
│   ├── moment/         # 动态模块
│   ├── note/           # 日记模块
│   ├── photo/          # 相册模块
│   ├── sys_community/  # 社区系统模块
│   ├── user/           # 用户模块
│   ├── vip/            # VIP特权模块
│   ├── media/          # 媒体文件存储
│   ├── static/         # 静态资源
│   ├── templates/      # 前端模板
│   ├── manage.py       # Django管理脚本
│   └── requirements.txt # 依赖文件
├── frontend/           # Vue前端
└── README.md           # 项目说明文档
```

### 本地部署步骤

1. **克隆仓库**

   ```bash
   git clone https://github.com/WENdaoshui-shou/LoveSync_Diary.git
   cd LoveSync_Diary
   ```

2. **创建虚拟环境并安装依赖**

   ```bash
   # 创建环境
   python -m venv venv

   # 激活环境（Windows）
   venv\Scripts\activate
   # 激活环境（Mac/Linux）
   source venv/bin/activate

   # 安装依赖
   pip install -r backend/requirements.txt
   ```

3. **配置环境变量**
   在项目根目录创建 `.env` 文件，填写以下内容：

   ```
   DEBUG=True
   SECRET_KEY=你的密钥
   # 支持PostgreSQL或MySQL
   # DATABASE_URL=postgres://user:password@localhost:5432/lovesync
   DATABASE_URL=mysql://user:password@localhost:3306/lovesync
   REDIS_URL=redis://localhost:6379/0
   # AI 配置（如使用第三方模型）
   AI_API_KEY=你的API密钥
   ```

4. **初始化数据库**

   ```bash
   cd backend
   python manage.py migrate  # 迁移数据表
   python manage.py createsuperuser  # 创建管理员账号
   ```

5. **启动服务**

   ```bash
   # 启动 Django 开发服务器
   python manage.py runserver

   # 启动实时通信服务（新终端，在backend目录下）
   daphne LoveSync.asgi:application
   ```

6. **访问应用**
   - 主应用：http://127.0.0.1:8000
   - 管理后台：http://127.0.0.1:8000/admin

📖 功能使用指南

1. **绑定伴侣账号**
   - 注册后，进入「设置 → 伴侣绑定」生成邀请码
   - 对方在相同页面输入邀请码，完成绑定
   - 可在「隐私设置」中默认日记 / 相册的共享权限

2. **核心功能详解**

   ✏️ **写日记**
   - 点击首页「+ 新建日记」，选择心情标签
   - 支持插入多图、添加定位（记录在哪发生的故事）
   - 勾选「分享给伴侣」，对方实时收到更新提醒

   📷 **共享相册**
   - 「相册 → 新建相册」命名主题（如「第一次旅行」「日常碎片」）
   - 批量上传照片，自动按拍摄时间排序
   - 每张照片可添加备注（「这里的冰淇淋超好吃！」）

   📱 **动态功能**
   - 记录重要时刻（文字 / 图片），仅双方可见的时间线
   - 支持点赞、评论互动
   - 可将动态分享到社区

   🌐 **社区功能**
   - 浏览其他情侣的公开内容（带 #异地恋 #恋爱技巧 等标签）
   - 获取相处灵感，参与话题讨论
   - 支持评论互动，建立恋爱社交圈

   📊 **数据统计**
   - 首页「本周心情」卡片：用颜色直观展示双方情绪分布
   - 「历史回顾」：按月份查看互动频率，生成「共同回忆」时间线
   - 年度报告：自动总结恋爱关键词、最难忘的日子

   🛒 **商城购物**
   - **分类浏览**：通过顶部导航栏进入商城，选择商品分类浏览
   - **活动参与**：首页查看限时秒杀、新品上市、VIP专属等活动
   - **商品详情**：点击商品查看详细信息、价格和折扣
   - **限时秒杀**：参与倒计时活动，抢购超值商品
   - **VIP特权**：VIP用户可访问专属商品和活动页面

🔧 技术架构

| 模块     | 技术栈                               | 亮点                       |
| -------- | ------------------------------------ | -------------------------- |
| 后端框架 | Django 4.2.7 + Django REST Framework | 稳定高效，快速开发功能     |
| 实时通信 | Channels 4.3.2 + WebSocket + Redis   | 低延迟同步，支持高并发     |
| 数据库   | MySQL 8.0 + Redis 6.2.0              | 兼顾数据安全与访问速度     |
| 前端     | HTML5 + Tailwind CSS + JavaScript    | 响应式设计，交互流畅       |
| 前端框架 | Vue 3（在 frontend 目录）            | 组件化开发，易于维护       |
| AI 集成  | 大模型 API 封装 + 上下文管理         | 支持流式输出，对话更自然   |
| 图像处理 | Pillow 10.1.0                        | 图片上传、压缩与处理       |
| 认证授权 | Django 内置认证 + 自定义权限         | 安全可靠的用户认证机制     |
| 商城系统 | Django ORM + Redis缓存               | 高性能商品管理与活动系统   |
| 缓存策略 | 分层缓存设计 + 自动失效机制          | 确保数据一致性与访问速度   |
| 协作编辑 | Operational Transformation 算法      | 工业级实时协作，无冲突编辑 |
| 游戏系统 | Django ORM + RESTful API             | 专属情侣互动游戏，增进感情 |
| 社区系统 | Django ORM + 标签系统                | 恋爱社交圈，分享交流平台   |
| 消息系统 | Django ORM + WebSocket               | 实时消息通知，及时互动     |
| 数据分析 | 自定义统计算法 + 可视化展示          | 多维度数据洞察，见证成长   |

🤝 贡献指南

欢迎参与开发！无论是修复 Bug、优化功能还是完善文档，都可以通过以下步骤贡献：

1. Fork 本仓库
2. 创建分支（feature/xxx 或 fix/xxx）
3. 提交代码并发起 PR
4. 代码符合项目规范且通过测试后合并

📄 开源协议

本项目采用 MIT 协议 开源，允许自由使用、修改和分发，详见 LICENSE 文件。

💌 联系我们

- 项目地址：https://github.com/WENdaoshui-shou/LoveSync_Diary.git
- 问题反馈：提交 Issues
- 开发者：[你的名字 / 团队名]（邮箱：18700222185@163.com）

「愿 LoveSync 见证每一段真挚的感情，让记录成为爱情的保鲜剂」
