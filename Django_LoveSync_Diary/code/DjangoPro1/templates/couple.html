<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>情侣设置 | 恋爱空间</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B', // 爱情粉色作为主色调
                        secondary: '#722ED1', // 紫色作为辅助色
                        neutral: {
                            100: '#F9F9F9',
                            200: '#F0F0F0',
                            300: '#E0E0E0',
                            400: '#BDBDBD',
                            500: '#9E9E9E',
                            600: '#757575',
                            700: '#616161',
                            800: '#424242',
                            900: '#212121',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                },
            }
        }
    </script>

    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }

            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .transition-custom {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .bg-gradient-love {
                background: linear-gradient(135deg, #FF6B8B 0%, #722ED1 100%);
            }

            .hover-scale {
                transition: transform 0.3s ease;
            }

            .hover-scale:hover {
                transform: scale(1.03);
            }

            .form-input-focus {
                transition: all 0.3s ease;
            }

            .form-input-focus:focus {
                transform: translateY(-2px);
                box-shadow: 0 10px 25px -5px rgba(255, 107, 139, 0.1), 0 10px 10px -5px rgba(255, 107, 139, 0.04);
            }

            .btn-pulse {
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0% {
                    box-shadow: 0 0 0 0 rgba(255, 107, 139, 0.4);
                }
                70% {
                    box-shadow: 0 0 0 10px rgba(255, 107, 139, 0);
                }
                100% {
                    box-shadow: 0 0 0 0 rgba(255, 107, 139, 0);
                }
            }

            .float-animation {
                animation: float 6s ease-in-out infinite;
            }

            @keyframes float {
                0% {
                    transform: translateY(0px);
                }
                50% {
                    transform: translateY(-20px);
                }
                100% {
                    transform: translateY(0px);
                }
            }

            .post-card {
                transition: all 0.3s ease;
            }

            .post-card:hover {
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
                transform: translateY(-2px);
            }

            .like-animation {
                animation: like 0.5s ease;
            }

            @keyframes like {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.3);
                }
                100% {
                    transform: scale(1);
                }
            }

            .comment-slide {
                animation: slideUp 0.3s ease;
            }

            @keyframes slideUp {
                from {
                    transform: translateY(20px);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            .scroll-smooth {
                scroll-behavior: smooth;
            }
        }
    </style>

    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: #F9FAFB;
        }

        /* 滚动条样式 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #E2E8F0;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #CBD5E0;
        }

        /* 图片加载动画 */
        .img-loading {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        /* 动画类 */
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out forwards;
            opacity: 0;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .animate-slide-up {
            animation: slideUp 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="text-neutral-800 scroll-smooth">
    <!-- 导航栏 -->
    <header class="sticky top-0 z-40 bg-white shadow-sm transition-custom">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center">
                <button id="backBtn"
                    class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-neutral-100 transition-custom">
                    <i class="fa fa-arrow-left text-primary"></i>
                </button>
                <h1 class="ml-3 text-xl font-bold text-primary">
                    {% if has_couple %}情侣设置{% else %}绑定情侣{% endif %}
                </h1>
            </div>
            <div class="flex items-center space-x-3">
                <button
                    class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-neutral-100 transition-custom">
                    <i class="fa fa-search text-neutral-700"></i>
                </button>
                <button
                    class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-neutral-100 transition-custom">
                    <i class="fa fa-filter text-neutral-700"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-6 py-6">
        <!-- 未绑定情侣：显示绑定引导页面 -->
        {% if not has_couple %}
        <div class="max-w-2xl mx-auto">
            <!-- 引导标题 -->
            <div class="text-center mb-10 animate-fade-in">
                <div
                    class="w-20 h-20 mx-auto mb-4 rounded-full bg-primary/10 flex bg-gradient-love flex items-center justify-center float-animation text-white shadow-md">
                    <i class="fa fa-heart text-5xl"></i>
                </div>
                <h2 class="text-2xl md:text-3xl font-bold text-neutral-800 mb-2">找到你的另一半</h2>
                <p class="text-neutral-600">绑定情侣后，即可开启专属你们的恋爱空间</p>
            </div>

            <!-- 待处理请求提示 -->
            {% if pending_request %}
            <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-5 mb-8 animate-slide-up">
                <div class="flex items-start">
                    <div
                        class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0 mt-0.5">
                        <i class="fa fa-clock-o text-yellow-600"></i>
                    </div>
                    <div class="ml-4">
                        <h3 class="font-medium text-neutral-800">待处理的邀请</h3>
                        <p class="text-neutral-600 text-sm mt-1">你已向 <span class="text-primary font-medium">{{
                                pending_request.user.username }}</span> 发送了情侣邀请，等待对方回应...</p>
                        <button onclick="cancelRequest({{ pending_request.id }})"
                            class="mt-3 text-sm text-primary hover:text-primary/80">
                            <i class="fa fa-times-circle mr-1"></i>取消邀请
                        </button>
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- 收到的请求提示 -->
            {% if received_request %}
            <div class="bg-primary/5 border border-primary/20 rounded-xl p-5 mb-8 animate-slide-up">
                <div class="flex items-start">
                    <div
                        class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5">
                        <i class="fa fa-envelope text-primary"></i>
                    </div>
                    <div class="ml-4 flex-1">
                        <h3 class="font-medium text-neutral-800">收到情侣邀请</h3>
                        <p class="text-neutral-600 text-sm mt-1"><span class="text-primary font-medium">{{
                                received_request.user.username }}</span> 想与你绑定为情侣</p>
                        <div class="flex gap-3 mt-3">
                            <a href="{% url 'couple_accept' received_request.id %}"
                                class="px-4 py-2 bg-primary text-white text-sm rounded-lg hover:bg-primary/90 transition-custom">
                                <i class="fa fa-check mr-1"></i>接受
                            </a>
                            <a href="{% url 'couple_reject' received_request.id %}"
                                class="px-4 py-2 border border-neutral-300 text-neutral-700 text-sm rounded-lg hover:bg-neutral-50 transition-custom">
                                <i class="fa fa-times mr-1"></i>拒绝
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- 绑定方式选择 -->
            <div class="bg-white rounded-xl shadow-sm p-6 mb-8 animate-slide-up">
                <h3 class="text-lg font-bold mb-5 text-neutral-800">绑定情侣的方式</h3>

                <!-- 方式1：通过邀请码绑定 -->
                <div class="mb-6">
                    <h4 class="font-medium text-neutral-800 mb-3 flex items-center">
                        <i class="fa fa-key text-primary mr-2"></i>通过邀请码绑定
                    </h4>
                    <form method="post" action="{% url 'couple_request' %}" class="space-y-4">
                        {% csrf_token %}
                        <div>
                            <label class="block text-neutral-700 text-sm mb-2">输入对方的邀请码</label>
                            <div class="flex">
                                <input type="text" name="couple_code" placeholder="请输入邀请码"
                                    class="flex-1 px-4 py-3 rounded-l-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-custom form-input-focus">
                                <button type="submit"
                                    class="px-6 py-3 bg-primary text-white rounded-r-lg hover:bg-primary/90 transition-custom">
                                    绑定
                                </button>
                            </div>
                            <p class="text-xs text-neutral-500 mt-1">邀请码可在对方的情侣设置页面获取</p>
                        </div>
                    </form>
                </div>

                <!-- 方式2：生成自己的邀请码 -->
                <div>
                    <h4 class="font-medium text-neutral-800 mb-3 flex items-center">
                        <i class="fa fa-qrcode text-primary mr-2"></i>让对方扫描你的邀请码
                    </h4>
                    <div class="bg-neutral-50 rounded-lg p-4 flex flex-col items-center">
                        <div class="w-48 h-48 bg-white p-2 rounded-lg mb-4 flex items-center justify-center">
                            <!-- 二维码区域 -->
                            <div class="text-center">
                                <i class="fa fa-qrcode text-5xl text-neutral-300 mb-2"></i>
                                <p class="text-xs text-neutral-500">你的邀请码</p>
                                <p class="font-medium mt-1 text-primary">{{ user.profile.couple_code }}</p>
                            </div>
                        </div>
                        <p class="text-sm text-neutral-600 text-center">
                            让对方在绑定页面输入上方邀请码<br>或直接扫描二维码
                        </p>
                        <button onclick="copyCode('{{ user.profile.couple_code }}')"
                            class="mt-4 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-custom text-sm">
                            <i class="fa fa-copy mr-1"></i>复制邀请码
                        </button>
                    </div>
                </div>
            </div>

            <!-- 功能介绍 -->
            <div class="bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl p-6 animate-slide-up">
                <h3 class="text-lg font-bold mb-4 text-center text-neutral-800">绑定情侣后可解锁</h3>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center hover-scale">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2">
                            <i class="fa fa-calendar-heart-o text-primary"></i>
                        </div>
                        <p class="text-sm font-medium">恋爱纪念日</p>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center hover-scale">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2">
                            <i class="fa fa-comments text-primary"></i>
                        </div>
                        <p class="text-sm font-medium">私密聊天</p>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center hover-scale">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2">
                            <i class="fa fa-picture-o text-primary"></i>
                        </div>
                        <p class="text-sm font-medium">情侣相册</p>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center hover-scale">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2">
                            <i class="fa fa-book text-primary"></i>
                        </div>
                        <p class="text-sm font-medium">双人日记</p>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center hover-scale">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2">
                            <i class="fa fa-gift text-primary"></i>
                        </div>
                        <p class="text-sm font-medium">礼物记录</p>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center hover-scale">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2">
                            <i class="fa fa-line-chart text-primary"></i>
                        </div>
                        <p class="text-sm font-medium">恋爱统计</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 已绑定情侣：显示情侣设置页面 -->
        {% else %}
        <!-- 情侣关系卡片 -->
        <div class="bg-white rounded-xl shadow-custom p-6 mb-8 animate-fade-in">
            <div class="flex flex-col md:flex-row items-center">
                <div class="relative mb-4 md:mb-0">
                    <div class="relative w-28 h-28 rounded-full overflow-hidden border-4 border-primary/20">
                        <img src="{{ user.profile.userAvatar.url }}" alt="情侣合照"
                            class="w-full h-full object-cover img-loading" onload="this.classList.remove('img-loading')"
                            loading="lazy">
                        <div class="absolute inset-0 bg-gradient-to-tr from-primary/30 to-transparent rounded-full">
                        </div>
                    </div>
                </div>

                <div class="md:ml-6 text-center md:text-left">
                    <div class="flex items-center justify-center md:justify-start flex-wrap">
                        <h2 class="text-2xl font-bold">{{user.name}} & {{user.profile.couple.user.name}}</h2>
                        <span class="ml-2 px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full mt-1 md:mt-0"
                            id="days-together">
                            相恋<span>{{user.profile.couple_joined_at}}</span>天
                        </span>
                    </div>

                    <div class="grid grid-cols-2 gap-3 mt-4">
                        <div class="bg-neutral-50 rounded-lg p-3 text-center hover-scale">
                            <p class="text-neutral-500 text-sm">我的昵称</p>
                            <p class="font-medium mt-1">{{user.name}}</p>
                        </div>
                        <div class="bg-neutral-50 rounded-lg p-3 text-center hover-scale">
                            <p class="text-neutral-500 text-sm">Ta的昵称</p>
                            <p class="font-medium mt-1">{{user.profile.couple.user.name}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 基本信息设置 -->
        <div class="bg-white rounded-xl shadow-custom p-6 mb-8 animate-slide-up" style="animation-delay: 0.1s">
            <h2 class="text-xl font-bold mb-6 flex items-center">
                <i class="fa fa-user-circle text-primary mr-2"></i>基本信息
            </h2>

            <div class="space-y-5">
                <div>
                    <label class="block text-neutral-700 mb-2">我们的情侣名</label>
                    <div class="flex items-center">
                        <input type="text" value="{{ user.profile.couple.user.name }}"
                            class="flex-1 px-4 py-3 rounded-l-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-custom form-input-focus">
                        <div class="px-4 py-3 bg-neutral-100 border-t border-b border-neutral-300">
                            &
                        </div>
                        <input type="text" value="{{ user.name }}"
                            class="flex-1 px-4 py-3 rounded-r-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-custom form-input-focus">
                    </div>
                    <p class="text-xs text-neutral-500 mt-1">这是你们在情侣空间中的专属称呼</p>
                </div>

                <div>
                    <label class="block text-neutral-700 mb-2">恋爱纪念日</label>
                    <div class="flex items-center flex-wrap gap-3">
                        <input type="date" value='{{user.profile.couple_joined_at|date:"Y-m-d"}}'
                            class="flex-1 px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-custom form-input-focus">
                        <button
                            class="px-4 py-3 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-custom">
                            <i class="fa fa-calendar-plus-o mr-1"></i> 添加更多
                        </button>
                    </div>
                </div>

                <div>
                    <label class="block text-neutral-700 mb-2">我们的故事</label>
                    <textarea rows="3" placeholder="分享你们的恋爱故事..."
                        class="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-custom form-input-focus">我们在春天相遇，一起走过了三个季节，期待更多的四季与你相伴。</textarea>
                </div>
            </div>
        </div>

        <!-- 主题设置 -->
        <div class="bg-white rounded-xl shadow-custom p-6 mb-8 animate-slide-up" style="animation-delay: 0.2s">
            <h2 class="text-xl font-bold mb-6 flex items-center">
                <i class="fa fa-paint-brush text-primary mr-2"></i>主题设置
            </h2>

            <div>
                <p class="text-neutral-600 mb-4">选择你们喜欢的主题风格，让情侣空间更有专属感</p>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div
                        class="rounded-lg border-2 border-primary relative overflow-hidden cursor-pointer group transition-custom">
                        <div
                            class="absolute top-2 right-2 w-6 h-6 rounded-full bg-white flex items-center justify-center">
                            <i class="fa fa-check text-primary"></i>
                        </div>
                        <div class="h-24 bg-gradient-to-r from-primary to-secondary"></div>
                        <div class="p-3 bg-neutral-50">
                            <h3 class="font-medium text-sm">热恋粉紫</h3>
                        </div>
                    </div>

                    <div
                        class="rounded-lg border-2 border-transparent hover:border-primary/50 relative overflow-hidden cursor-pointer group transition-custom">
                        <div class="h-24 bg-gradient-to-r from-blue-400 to-purple-500"></div>
                        <div class="p-3 bg-neutral-50">
                            <h3 class="font-medium text-sm">梦幻星空</h3>
                        </div>
                    </div>

                    <div
                        class="rounded-lg border-2 border-transparent hover:border-primary/50 relative overflow-hidden cursor-pointer group transition-custom">
                        <div class="h-24 bg-gradient-to-r from-green-400 to-blue-500"></div>
                        <div class="p-3 bg-neutral-50">
                            <h3 class="font-medium text-sm">清新自然</h3>
                        </div>
                    </div>

                    <div
                        class="rounded-lg border-2 border-transparent hover:border-primary/50 relative overflow-hidden cursor-pointer group transition-custom">
                        <div class="h-24 bg-gradient-to-r from-yellow-400 to-red-500"></div>
                        <div class="p-3 bg-neutral-50">
                            <h3 class="font-medium text-sm">活力橙红</h3>
                        </div>
                    </div>
                </div>

                <div class="mt-6">
                    <h3 class="font-medium mb-3">自定义主题颜色</h3>
                    <div class="flex space-x-3 flex-wrap">
                        <div class="flex-1 min-w-[150px]">
                            <label class="block text-sm text-neutral-600 mb-1">主色调</label>
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-primary border-2 border-white shadow-sm"></div>
                                <input type="color" value="#FF6B8B"
                                    class="ml-2 h-8 w-12 rounded border-none cursor-pointer">
                            </div>
                        </div>
                        <div class="flex-1 min-w-[150px]">
                            <label class="block text-sm text-neutral-600 mb-1">辅助色</label>
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-secondary border-2 border-white shadow-sm"></div>
                                <input type="color" value="#722ED1"
                                    class="ml-2 h-8 w-12 rounded border-none cursor-pointer">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 隐私设置 -->
        <div class="bg-white rounded-xl shadow-custom p-6 mb-8 animate-slide-up" style="animation-delay: 0.3s">
            <h2 class="text-xl font-bold mb-6 flex items-center">
                <i class="fa fa-lock text-primary mr-2"></i>隐私设置
            </h2>

            <div class="space-y-5">
                <div class="p-4 bg-neutral-50 rounded-lg">
                    <h3 class="font-medium mb-3">谁可以看到我们的情侣关系？</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                        <label class="border-2 border-primary rounded-lg p-4 cursor-pointer relative hover-scale">
                            <input type="radio" name="visibility" value="only_me" checked class="sr-only">
                            <div
                                class="absolute top-3 right-3 w-5 h-5 rounded-full bg-primary flex items-center justify-center">
                                <i class="fa fa-check text-white text-xs"></i>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center mb-2">
                                <i class="fa fa-user text-neutral-500"></i>
                            </div>
                            <h4 class="font-medium text-sm">仅自己可见</h4>
                            <p class="text-xs text-neutral-500 mt-1">只有你能看到你们的情侣关系</p>
                        </label>

                        <label
                            class="border-2 border-transparent hover:border-primary/50 rounded-lg p-4 cursor-pointer relative hover-scale">
                            <input type="radio" name="visibility" value="friends" class="sr-only">
                            <div
                                class="absolute top-3 right-3 w-5 h-5 rounded-full bg-white border border-neutral-300 flex items-center justify-center">
                                <i class="fa fa-check text-white text-xs opacity-0"></i>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center mb-2">
                                <i class="fa fa-users text-neutral-500"></i>
                            </div>
                            <h4 class="font-medium text-sm">仅好友可见</h4>
                            <p class="text-xs text-neutral-500 mt-1">只有你们的共同好友能看到</p>
                        </label>

                        <label
                            class="border-2 border-transparent hover:border-primary/50 rounded-lg p-4 cursor-pointer relative hover-scale">
                            <input type="radio" name="visibility" value="public" class="sr-only">
                            <div
                                class="absolute top-3 right-3 w-5 h-5 rounded-full bg-white border border-neutral-300 flex items-center justify-center">
                                <i class="fa fa-check text-white text-xs opacity-0"></i>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center mb-2">
                                <i class="fa fa-globe text-neutral-500"></i>
                            </div>
                            <h4 class="font-medium text-sm">所有人可见</h4>
                            <p class="text-xs text-neutral-500 mt-1">任何人都能看到你们的情侣关系</p>
                        </label>
                    </div>
                </div>

                <div class="p-4 bg-neutral-50 rounded-lg">
                    <h3 class="font-medium mb-3">谁可以看到我们的恋爱动态？</h3>
                    <div class="space-y-3">
                        <div
                            class="flex items-center justify-between p-3 bg-white rounded-lg border border-neutral-200 hover:border-primary/50 transition-custom">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                    <i class="fa fa-heart text-primary"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-sm">情侣动态</h4>
                                    <p class="text-xs text-neutral-500">你们发布的合照、留言等内容</p>
                                </div>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" checked class="sr-only peer">
                                <div
                                    class="w-12 h-6 bg-primary rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                                </div>
                            </div>
                        </div>

                        <div
                            class="flex items-center justify-between p-3 bg-white rounded-lg border border-neutral-200 hover:border-primary/50 transition-custom">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                    <i class="fa fa-calendar text-primary"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-sm">纪念日</h4>
                                    <p class="text-xs text-neutral-500">你们设置的恋爱纪念日</p>
                                </div>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" checked class="sr-only peer">
                                <div
                                    class="w-12 h-6 bg-primary rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                                </div>
                            </div>
                        </div>

                        <div
                            class="flex items-center justify-between p-3 bg-white rounded-lg border border-neutral-200 hover:border-primary/50 transition-custom">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                    <i class="fa fa-gift text-primary"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-sm">礼物记录</h4>
                                    <p class="text-xs text-neutral-500">你们互相赠送的礼物记录</p>
                                </div>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" class="sr-only peer">
                                <div
                                    class="w-12 h-6 bg-neutral-300 rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-neutral-50 rounded-lg">
                    <h3 class="font-medium mb-3">消息提醒设置</h3>
                    <div class="space-y-3">
                        <div
                            class="flex items-center justify-between p-3 bg-white rounded-lg border border-neutral-200 hover:border-primary/50 transition-custom">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                    <i class="fa fa-comment text-primary"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-sm">Ta的消息提醒</h4>
                                    <p class="text-xs text-neutral-500">接收来自Ta的消息提醒</p>
                                </div>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" checked class="sr-only peer">
                                <div
                                    class="w-12 h-6 bg-primary rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                                </div>
                            </div>
                        </div>

                        <div
                            class="flex items-center justify-between p-3 bg-white rounded-lg border border-neutral-200 hover:border-primary/50 transition-custom">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                    <i class="fa fa-bell text-primary"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-sm">动态提醒</h4>
                                    <p class="text-xs text-neutral-500">接收情侣动态的提醒</p>
                                </div>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" checked class="sr-only peer">
                                <div
                                    class="w-12 h-6 bg-primary rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                                </div>
                            </div>
                        </div>

                        <div
                            class="flex items-center justify-between p-3 bg-white rounded-lg border border-neutral-200 hover:border-primary/50 transition-custom">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                    <i class="fa fa-star text-primary"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-sm">纪念日提醒</h4>
                                    <p class="text-xs text-neutral-500">接收即将到来的纪念日提醒</p>
                                </div>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" checked class="sr-only peer">
                                <div
                                    class="w-12 h-6 bg-primary rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 绑定账号 -->
        <div class="bg-white rounded-xl shadow-custom p-6 mb-8 animate-slide-up" style="animation-delay: 0.4s">
            <h2 class="text-xl font-bold mb-6 flex items-center">
                <i class="fa fa-link text-primary mr-2"></i>账号绑定
            </h2>

            <div class="space-y-4">
                <div
                    class="flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-custom">
                    <div class="flex items-center">
                        <div class="w-12 h-12 rounded-full bg-[#1DA1F2]/10 flex items-center justify-center mr-4">
                            <i class="fa fa-twitter text-[#1DA1F2] text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-medium">Twitter</h3>
                            <p class="text-xs text-neutral-500">分享你们的恋爱动态到Twitter</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-custom">
                        绑定
                    </button>
                </div>

                <div
                    class="flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-custom">
                    <div class="flex items-center">
                        <div class="w-12 h-12 rounded-full bg-[#E4405F]/10 flex items-center justify-center mr-4">
                            <i class="fa fa-instagram text-[#E4405F] text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-medium">Instagram</h3>
                            <p class="text-xs text-neutral-500">分享你们的恋爱照片到Instagram</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-custom">
                        绑定
                    </button>
                </div>

                <div
                    class="flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-custom">
                    <div class="flex items-center">
                        <div class="w-12 h-12 rounded-full bg-[#25D366]/10 flex items-center justify-center mr-4">
                            <i class="fa fa-whatsapp text-[#25D366] text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-medium">WhatsApp</h3>
                            <p class="text-xs text-neutral-500">接收情侣提醒到WhatsApp</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-custom">
                        绑定
                    </button>
                </div>

                <!-- 解除关系确认按钮 -->
                <div class="mb-12 text-center animate-slide-up" style="animation-delay: 0.5s">
                    <button id="breakupBtn"
                        class="inline-flex items-center text-red-500 hover:text-red-600 transition-custom">
                        <i class="fa fa-heart-broken mr-1"></i>
                        <span>解除情侣关系</span>
                    </button>
                    <p class="text-xs text-neutral-500 mt-2">解除后，你们的情侣数据将被保留，但不会显示为情侣关系</p>
                </div>

            </div>
        </div>

        <!-- 底部操作区 -->
        <div class="sticky bottom-0 left-0 right-0 bg-white shadow-lg p-4 z-30 animate-slide-up"
            style="animation-delay: 0.5s">
            <div class="container mx-auto">
                <div class="flex items-center justify-between">
                    <button id="deleteAccountBtn" class="px-4 py-2 text-red-500 hover:text-red-600 transition-custom">
                        <i class="fa fa-trash-o mr-1"></i> 删除账号
                    </button>
                    <button
                        class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-custom shadow-lg btn-pulse">
                        保存设置
                    </button>
                </div>
            </div>
        </div>
        {% endif %}
    </main>

    <!-- 解除情侣关系确认弹窗 -->
    <div id="breakupModal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 transform scale-95 transition-transform duration-300">
            <div class="text-center mb-6">
                <div class="w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4">
                    <i class="fa fa-heart-broken text-red-500 text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-neutral-800">解除情侣关系</h3>
                <p class="text-neutral-600 mt-2">确定要解除你们的情侣关系吗？这将删除所有共同内容。</p>
            </div>
            <div class="flex space-x-3">
                <button id="cancelBreakupBtn"
                    class="flex-1 px-4 py-3 border border-neutral-300 rounded-lg hover:bg-neutral-100 transition-custom">
                    取消
                </button>
                <button id="confirmBreakupBtn"
                    class="flex-1 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-custom">
                    确认解除
                </button>
            </div>
        </div>
    </div>

    <!-- 删除账号确认弹窗 -->
    <div id="deleteAccountModal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 transform scale-95 transition-transform duration-300">
            <div class="text-center mb-6">
                <div class="w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4">
                    <i class="fa fa-exclamation-triangle text-red-500 text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-neutral-800">删除账号</h3>
                <p class="text-neutral-600 mt-2">确定要删除你的账号吗？这将永久删除所有数据，无法恢复。</p>
            </div>
            <div class="space-y-3">
                <input type="password" placeholder="输入密码确认"
                    class="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-custom">
                <div class="flex space-x-3">
                    <button id="cancelDeleteBtn"
                        class="flex-1 px-4 py-3 border border-neutral-300 rounded-lg hover:bg-neutral-100 transition-custom">
                        取消
                    </button>
                    <button id="confirmDeleteBtn"
                        class="flex-1 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-custom">
                        确认删除
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function () {
            // 返回按钮
            document.getElementById('backBtn').addEventListener('click', function () {
                window.history.back();
            });

            // 未绑定情侣状态下的功能
            {% if not has_couple %}
            // 复制邀请码功能
            window.copyCode = function (code) {
                navigator.clipboard.writeText(code).then(() => {
                    showToast('邀请码已复制，快去发给对方吧', 'success');
                }).catch(() => {
                    showToast('复制失败，请手动复制', 'error');
                });
            };

            // 取消邀请功能
            window.cancelRequest = function (profileId) {
                if (confirm('确定要取消邀请吗？')) {
                    // 获取CSRF Token
                    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

                    fetch(`/couple/cancel/${profileId}/`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': csrfToken
                        }
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (data.success) {
                                showToast('邀请已取消', 'success');
                                setTimeout(() => window.location.reload(), 1000);
                            } else {
                                showToast(data.error || '操作失败，请重试', 'error');
                            }
                        })
                        .catch(error => {
                            showToast('网络错误，请重试', 'error');
                            console.error('Error:', error);
                        });
                }
            };
            {% endif %}

            // 已绑定情侣状态下的功能
            {% if has_couple %}
            // 处理模态框
            const breakupBtn = document.getElementById('breakupBtn');
            const breakupModal = document.getElementById('breakupModal');
            const cancelBreakupBtn = document.getElementById('cancelBreakupBtn');
            const confirmBreakupBtn = document.getElementById('confirmBreakupBtn');

            const deleteAccountBtn = document.getElementById('deleteAccountBtn');
            const deleteAccountModal = document.getElementById('deleteAccountModal');
            const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
            const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');

            // 打开解除情侣关系模态框
            breakupBtn.addEventListener('click', function () {
                openModal(breakupModal);
            });

            // 打开删除账号模态框
            deleteAccountBtn.addEventListener('click', function () {
                openModal(deleteAccountModal);
            });

            // 关闭模态框通用函数
            function closeModal(modal) {
                modal.classList.add('opacity-0', 'pointer-events-none');
                modal.querySelector('div').classList.remove('scale-100');
                modal.querySelector('div').classList.add('scale-95');
                document.body.style.overflow = '';
            }

            // 打开模态框通用函数
            function openModal(modal) {
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modal.querySelector('div').classList.remove('scale-95');
                modal.querySelector('div').classList.add('scale-100');
                document.body.style.overflow = 'hidden';
            }

            // 关闭模态框事件监听
            cancelBreakupBtn.addEventListener('click', function () {
                closeModal(breakupModal);
            });

            cancelDeleteBtn.addEventListener('click', function () {
                closeModal(deleteAccountModal);
            });

            // 点击模态框外部关闭
            breakupModal.addEventListener('click', function (e) {
                if (e.target === this) closeModal(breakupModal);
            });

            deleteAccountModal.addEventListener('click', function (e) {
                if (e.target === this) closeModal(deleteAccountModal);
            });

            // 确认解除情侣关系
            confirmBreakupBtn.addEventListener('click', function () {
                // 获取CSRF Token
                const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

                simulateApiRequest('解除情侣关系中...', '情侣关系已解除', function () {
                    fetch('/couple/breakup/', {
                        method: 'POST',
                        headers: { 'X-CSRFToken': csrfToken }
                    }).then(response => {
                        if (response.ok) {
                            closeModal(breakupModal);
                            setTimeout(() => {
                                window.location.href = '/couple/settings/';
                            }, 1000);
                        } else {
                            showToast('操作失败，请重试', 'error');
                        }
                    });
                });
            });

            // 确认删除账号
            confirmDeleteBtn.addEventListener('click', function () {
                const password = deleteAccountModal.querySelector('input[type="password"]').value;
                if (!password) {
                    showToast('请输入密码确认', 'error');
                    return;
                }

                // 获取CSRF Token
                const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

                simulateApiRequest('删除账号中...', '账号已成功删除', function () {
                    fetch('/account/delete/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': csrfToken
                        },
                        body: JSON.stringify({ password: password })
                    }).then(response => {
                        if (response.ok) {
                            closeModal(deleteAccountModal);
                            setTimeout(() => {
                                window.location.href = '/login/';
                            }, 1000);
                        } else {
                            showToast('密码错误或操作失败', 'error');
                        }
                    });
                });
            });

            // 表单输入动画效果
            const formInputs = document.querySelectorAll('.form-input-focus');
            formInputs.forEach(input => {
                input.addEventListener('focus', function () {
                    this.parentElement.classList.add('focus-within');
                });
                input.addEventListener('blur', function () {
                    if (!this.value) {
                        this.parentElement.classList.remove('focus-within');
                    }
                });
            });

            // 主题选择效果
            const themeOptions = document.querySelectorAll('[class*="border-2"]');
            themeOptions.forEach(option => {
                option.addEventListener('click', function () {
                    // 移除所有选中状态
                    themeOptions.forEach(opt => {
                        opt.classList.remove('border-primary');
                        opt.classList.add('border-transparent');

                        const checkIcon = opt.querySelector('.fa-check');
                        if (checkIcon) {
                            checkIcon.parentElement.classList.add('bg-white');
                            checkIcon.parentElement.classList.remove('bg-primary');
                            checkIcon.classList.add('opacity-0');
                        }
                    });

                    // 设置当前选中状态
                    this.classList.remove('border-transparent');
                    this.classList.add('border-primary');

                    const checkIcon = this.querySelector('.fa-check');
                    if (checkIcon) {
                        checkIcon.parentElement.classList.remove('bg-white');
                        checkIcon.parentElement.classList.add('bg-primary');
                        checkIcon.classList.remove('opacity-0');
                    }

                    // 获取主题颜色
                    const themeColor = this.querySelector('.h-24').style.background;
                    if (themeColor) {
                        updateThemeColors(themeColor);
                    }
                });
            });

            // 颜色选择器
            const colorInputs = document.querySelectorAll('input[type="color"]');
            colorInputs.forEach(input => {
                input.addEventListener('input', function () {
                    const colorPreview = this.previousElementSibling;
                    colorPreview.style.backgroundColor = this.value;
                });
            });

            // 保存设置按钮
            document.querySelector('button.btn-pulse').addEventListener('click', function () {
                // 收集表单数据
                const formData = collectFormData();

                // 验证表单
                if (!validateForm(formData)) {
                    return;
                }

                // 获取CSRF Token
                const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

                // 保存设置
                simulateApiRequest('保存设置中...', '设置已成功保存', function () {
                    fetch('/couple/update-settings/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': csrfToken
                        },
                        body: JSON.stringify(formData)
                    }).then(response => {
                        if (response.ok) {
                            // 保存成功
                        } else {
                            showToast('保存失败，请重试', 'error');
                        }
                    });
                });
            });

            // 计算相恋天数
            const dateElement = document.querySelector('#days-together span');
            const dateStr = dateElement.textContent.trim();

            // 解析日期字符串为 Date 对象
            const [year, month, day, hour, minute] = dateStr.match(/\d+/g);
            const joinedDate = new Date(year, month - 1, day, hour, minute); // 月份从0开始

            // 计算当前时间与指定日期的差值（毫秒）
            const now = new Date();
            const diffMs = now - joinedDate;

            // 转换为天数（取绝对值）
            const diffDays = Math.abs(Math.floor(diffMs / (1000 * 60 * 60 * 24)));

            // 更新DOM显示
            dateElement.textContent = diffDays;

            // 收集表单数据
            function collectFormData() {
                return {
                    coupleNames: [
                        document.querySelector('input[type="text"]:first-of-type').value,
                        document.querySelector('input[type="text"]:last-of-type').value
                    ],
                    anniversary: document.querySelector('input[type="date"]').value,
                    story: document.querySelector('textarea').value,
                    theme: getSelectedTheme(),
                    primaryColor: document.querySelectorAll('input[type="color"]')[0].value,
                    secondaryColor: document.querySelectorAll('input[type="color"]')[1].value,
                    privacy: {
                        relationshipVisibility: document.querySelector('input[name="visibility"]:checked').value,
                        postsVisible: document.querySelectorAll('input[type="checkbox"]')[0].checked,
                        anniversariesVisible: document.querySelectorAll('input[type="checkbox"]')[1].checked,
                        giftsVisible: document.querySelectorAll('input[type="checkbox"]')[2].checked
                    },
                    notifications: {
                        partnerMessages: document.querySelectorAll('input[type="checkbox"]')[3].checked,
                        activities: document.querySelectorAll('input[type="checkbox"]')[4].checked,
                        anniversaries: document.querySelectorAll('input[type="checkbox"]')[5].checked
                    }
                };
            }

            // 获取选中的主题
            function getSelectedTheme() {
                const selectedTheme = document.querySelector('[class*="border-primary"]');
                return selectedTheme ? selectedTheme.querySelector('h3').textContent : '热恋粉紫';
            }

            // 表单验证
            function validateForm(formData) {
                if (!formData.coupleNames[0] || !formData.coupleNames[1]) {
                    showToast('请输入情侣名', 'error');
                    return false;
                }

                if (!formData.anniversary) {
                    showToast('请选择恋爱纪念日', 'error');
                    return false;
                }

                return true;
            }

            // 更新主题颜色
            function updateThemeColors(themeColor) {
                document.documentElement.style.setProperty('--theme-gradient', themeColor);
            }
            {% endif %}

            // 模拟API请求
            function simulateApiRequest(loadingMsg, successMsg, callback) {
                showToast(loadingMsg, 'loading');

                // 模拟API请求延迟
                setTimeout(() => {
                    showToast(successMsg, 'success');
                    if (callback) callback();
                }, 1500);
            }

            // 显示提示消息
            function showToast(message, type = 'info') {
                // 移除已有的toast
                const existingToast = document.querySelector('.toast-notification');
                if (existingToast) existingToast.remove();

                // 创建新的toast
                const toast = document.createElement('div');
                toast.className = 'toast-notification fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-y-20 opacity-0';

                // 设置不同类型的样式
                if (type === 'success') {
                    toast.classList.add('bg-green-500', 'text-white');
                    toast.innerHTML = `<i class="fa fa-check-circle mr-2"></i>${message}`;
                } else if (type === 'error') {
                    toast.classList.add('bg-red-500', 'text-white');
                    toast.innerHTML = `<i class="fa fa-exclamation-circle mr-2"></i>${message}`;
                } else if (type === 'loading') {
                    toast.classList.add('bg-blue-500', 'text-white');
                    toast.innerHTML = `<i class="fa fa-spinner fa-spin mr-2"></i>${message}`;
                } else {
                    toast.classList.add('bg-gray-500', 'text-white');
                    toast.innerHTML = `<i class="fa fa-info-circle mr-2"></i>${message}`;
                }

                // 添加到页面
                document.body.appendChild(toast);

                // 显示动画
                setTimeout(() => {
                    toast.classList.remove('translate-y-20', 'opacity-0');
                }, 10);

                // 自动关闭
                if (type !== 'loading') {
                    setTimeout(() => {
                        toast.classList.add('translate-y-20', 'opacity-0');
                        setTimeout(() => {
                            toast.remove();
                        }, 300);
                    }, 3000);
                }
            }
        });
    </script>
</body>

</html>