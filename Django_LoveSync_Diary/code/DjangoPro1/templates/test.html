<!DOCTYPE html>
<html lang = "zh-CN" >
<head >
    <meta charset = "UTF-8" >
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0" >
    <title >爱情同步日记</title >
    <script src = "https://cdn.tailwindcss.com" ></script >
    <link href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel = "stylesheet" >
    <script src = "https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js" ></script >
    <link href = "https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
          rel = "stylesheet" >

    <!-- Tailwind配置 -->
    <script >
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B', // 爱情粉色
                        secondary: '#722ED1', // 紫色辅助色
                        heart: '#FF6B8B',    // 心动
                        happy: '#81E67F',    // 开心
                        laugh: '#FFD700',    // 大笑
                        sad: '#64748B',      // 难过
                        angry: '#EF4444',    // 生气
                        calm: '#9CA3AF',     // 平静
                        neutral: {
                            100: '#F9F9F9',
                            200: '#F0F0F0',
                            300: '#E0E0E0',
                            400: '#BDBDBD',
                            500: '#9E9E9E',
                            600: '#757575',
                            700: '#616161',
                            800: '#424242',
                            900: '#212121',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': {opacity: '0'},
                            '100%': {opacity: '1'},
                        },
                        slideUp: {
                            '0%': {transform: 'translateY(20px)', opacity: '0'},
                            '100%': {transform: 'translateY(0)', opacity: '1'},
                        }
                    }
                },
            }
        }
    </script >

    <style type = "text/tailwindcss" >
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }

            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }

            .mood-gradient {
                background: linear-gradient(135deg, var(--mood-color, #FF6B8B)/10%, transparent);
            }

            .blur-effect {
                backdrop-filter: blur(2px);
                transition: backdrop-filter 0.3s ease;
            }

            .timeline-line {
                position: absolute;
                top: 0;
                bottom: 0;
                width: 2px;
                background-color: var(--mood-color, #FF6B8B);
                left: 50%;
                transform: translateX(-50%);
            }

            .diary-card-hover {
                transition: all 0.3s ease;
            }

            .diary-card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.01);
            }

            .mood-indicator {
                position: absolute;
                left: -16px;
                top: 12px;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                background-color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 0 0 2px var(--mood-color, #FF6B8B);
            }

            .mood-indicator::after {
                content: attr(data-icon);
                font-size: 18px;
                color: var(--mood-color, #FF6B8B);
            }

            .partner-card .mood-indicator {
                left: auto;
                right: -16px;
            }
        }
    </style >
</head >
<body class = "font-inter bg-neutral-100 text-neutral-800 min-h-screen flex flex-col overflow-x-hidden relative scroll-smooth" >
    <!-- 背景装饰 -->
    <div class = "absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none" >
        <div class = "absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full filter blur-3xl animate-pulse-slow" ></div >
        <div class = "absolute -bottom-20 -right-20 w-80 h-80 bg-secondary/10 rounded-full filter blur-3xl animate-pulse-slow"
             style = "animation-delay: -2s;" ></div >
    </div >

    <!-- 导航栏 -->
    <header class = "fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-sm py-3" >
        <div class = "container mx-auto px-4 flex items-center justify-between" >
            <!-- 品牌标识 -->
            <a href = "#" class = "flex items-center space-x-2" >
                <div class = "w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white shadow-md" >
                    <i class = "fa-solid fa-book text-xl" ></i >
                </div >
                <span class = "text-xl font-bold text-neutral-800 tracking-tight" >LoveSync</span >
            </a >

            <!-- 桌面端导航菜单 -->
            <nav class = "hidden md:flex items-center space-x-6" >
                <a href = "{% url 'index' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >双人日记</a >
                <a href = "{% url 'community' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >社区</a >
                <a href = "{% url 'moments' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >我们的动态</a >
                <a href = "{% url 'photo_album' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >相册</a >
                <a href = "{% url 'favorites' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >收藏</a >
            </nav >

            <!-- 用户操作区 -->
            <div class = "flex items-center space-x-4" >
                <a href = "{% url 'moments' %}" id = "createPostLink"
                   class = "hidden md:flex items-center space-x-2 px-5 py-2 rounded-full bg-gradient-love text-white hover:opacity-90 transition-custom shadow-md hover:shadow-lg" >
                    <i class = "fa-solid fa-pencil" ></i >
                    <span >发布动态</span >
                </a >

                <button id = "new-diary-btn"
                        class = "hidden md:flex items-center space-x-2 px-5 py-2 rounded-full bg-gradient-to-r from-primary to-secondary text-white hover:opacity-90 transition-custom shadow-md hover:shadow-lg" >
                    <i class = "fa-solid fa-plus" ></i >
                    <span >写日记</span >
                </button >

                <!-- 用户头像与下拉菜单 -->
                <div class = "relative" id = "userDropdown" >
                    <div class = "w-10 h-10 rounded-full overflow-hidden border-2 border-primary cursor-pointer shadow-sm"
                         id = "userAvatar" >
                        <img src = "https://picsum.photos/200/200?random=1" alt = "用户头像"
                             class = "w-full h-full object-cover" >
                    </div >
                    <div class = "absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50 hidden"
                         id = "userOptions" >
                        <a href = "{% url 'personal_center' %}"
                           class = "block px-4 py-2 text-neutral-700 hover:bg-neutral-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-user mr-2 w-5 text-center" ></i >主页
                        </a >
                        <a href = "{% url 'message' %}"
                           class = "block px-4 py-2 text-neutral-700 hover:bg-neutral-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-bookmark mr-2 w-5 text-center" ></i >消息
                        </a >
                        <a href = "{% url 'settings' %}"
                           class = "block px-4 py-2 text-neutral-700 hover:bg-neutral-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-cog mr-2 w-5 text-center" ></i >设置
                        </a >
                        <div class = "border-t border-neutral-200 my-1" ></div >
                        <a href = "{% url 'logout' %}"
                           class = "block px-4 py-2 text-red-500 hover:bg-red-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-sign-out mr-2 w-5 text-center" ></i >退出登录
                        </a >
                    </div >
                </div >

                <!-- 移动端菜单按钮 -->
                <button class = "md:hidden text-neutral-700 focus:outline-none" id = "menu-toggle" >
                    <i class = "fa-solid fa-bars text-xl" ></i >
                </button >
            </div >
        </div >

        <!-- 移动端菜单 -->
        <div id = "mobile-menu"
             class = "hidden md:hidden bg-white shadow-lg absolute w-full transform -translate-y-2 opacity-0 transition-all duration-200 ease-in-out"
             style = "top: 100%;" >
            <div class = "container mx-auto px-4 py-3 flex flex-col space-y-3" >
                <a href = "{% url 'index' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-book-open mr-3 w-5 text-center" ></i >双人日记
                </a >
                <a href = "{% url 'community' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-users mr-3 w-5 text-center" ></i >社区
                </a >
                <a href = "{% url 'moments' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-bolt mr-3 w-5 text-center" ></i >我们的动态
                </a >
                <a href = "{% url 'photo_album' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-images mr-3 w-5 text-center" ></i >相册
                </a >
                <a href = "{% url 'favorites' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-bookmark mr-3 w-5 text-center" ></i >收藏
                </a >
                <div class = "border-t border-neutral-200 my-1" ></div >
                <a href = "{% url 'personal_center' %}"
                   class = "text-neutral-700 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-user mr-3 w-5 text-center" ></i >个人主页
                </a >
                <a href = "{% url 'message' %}" class = "text-neutral-700 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-bookmark mr-3 w-5 text-center" ></i >消息中心
                </a >
                <a href = "{% url 'settings' %}" class = "text-neutral-700 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-cog mr-3 w-5 text-center" ></i >设置中心
                </a >
                <div class = "border-t border-neutral-200 my-1" ></div >
                <a href = "{% url 'logout' %}" class = "text-red-500 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-sign-out mr-3 w-5 text-center" ></i >退出登录
                </a >
            </div >
        </div >
    </header >

    <!-- 主内容区 -->
    <main class = "flex-grow pt-24 pb-16 relative z-10" >
        <div class = "container mx-auto px-4" >
            <!-- 顶部数据概览 -->
            <div class = "bg-white rounded-xl shadow-lg p-6 mb-8 animate-fade-in" >
                <div class = "flex flex-col md:flex-row items-center justify-between" >
                    <div class = "mb-4 md:mb-0" >
                        <h2 class = "text-2xl font-bold text-neutral-800 mb-1" >我们的爱情日记</h2 >
                        <p class = "text-neutral-600" >已共同记录 <span class = "text-primary font-semibold" >42</span > 篇日记 · 相恋 <span
                                class = "text-primary font-semibold" >365</span > 天</p >
                    </div >

                    <div class = "flex space-x-4" >
                        <div class = "bg-neutral-100 rounded-lg p-3 flex items-center space-x-3" >
                            <div class = "w-10 h-10 rounded-full overflow-hidden" >
                                <img src = "https://picsum.photos/200/200?random=1" alt = "我的头像"
                                     class = "w-full h-full object-cover" >
                            </div >
                            <div >
                                <p class = "text-sm font-medium" >我</p >
                                <p class = "text-xs text-neutral-500" >已写 23 篇</p >
                            </div >
                        </div >

                        <div class = "bg-neutral-100 rounded-lg p-3 flex items-center space-x-3" >
                            <div class = "w-10 h-10 rounded-full overflow-hidden" >
                                <img src = "https://picsum.photos/200/200?random=2" alt = "伴侣头像"
                                     class = "w-full h-full object-cover" >
                            </div >
                            <div >
                                <p class = "text-sm font-medium" >TA</p >
                                <p class = "text-xs text-neutral-500" >已写 19 篇</p >
                            </div >
                        </div >
                    </div >
                </div >

                <!-- 本周心情统计 -->
                <div class = "mt-6 pt-6 border-t border-neutral-200" >
                    <h3 class = "text-lg font-semibold text-neutral-800 mb-4" >本周心情</h3 >
                    <div class = "grid grid-cols-2 md:grid-cols-6 gap-3" >
                        <div class = "bg-heart/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >❤️</div >
                            <p class = "text-sm font-medium" >心动</p >
                            <p class = "text-xs text-heart" >3 次</p >
                        </div >
                        <div class = "bg-happy/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >😊</div >
                            <p class = "text-sm font-medium" >开心</p >
                            <p class = "text-xs text-happy" >5 次</p >
                        </div >
                        <div class = "bg-laugh/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >😆</div >
                            <p class = "text-sm font-medium" >大笑</p >
                            <p class = "text-xs text-laugh" >2 次</p >
                        </div >
                        <div class = "bg-sad/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >😢</div >
                            <p class = "text-sm font-medium" >难过</p >
                            <p class = "text-xs text-sad" >1 次</p >
                        </div >
                        <div class = "bg-angry/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >😤</div >
                            <p class = "text-sm font-medium" >生气</p >
                            <p class = "text-xs text-angry" >0 次</p >
                        </div >
                        <div class = "bg-calm/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >😐</div >
                            <p class = "text-sm font-medium" >平静</p >
                            <p class = "text-xs text-calm" >2 次</p >
                        </div >
                    </div >
                </div >
            </div >

            <!-- 写日记模态框 -->
            <div id = "new-diary-modal" class = "fixed inset-0 z-50 flex items-center justify-center hidden" >
                <div class = "absolute inset-0 bg-black/50 backdrop-blur-sm" id = "modal-backdrop" ></div >
                <div class = "bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-slide-up relative z-10" >
                    <div class = "p-6 border-b border-neutral-200 flex justify-between items-center" >
                        <h3 class = "text-xl font-bold text-neutral-800" >写日记</h3 >
                        <button id = "close-modal" class = "text-neutral-500 hover:text-neutral-800" >
                            <i class = "fa-solid fa-times" ></i >
                        </button >
                    </div >

                    <form id = "diary-form" method = "POST" enctype = "multipart/form-data" class = "p-6" >
                        {% csrf_token %}

                        <!-- 今日心情选择 -->
                        <div class = "mb-6" >
                            <label class = "block text-sm font-medium text-neutral-700 mb-2" >今日心情</label >
                            <div class = "flex space-x-4 overflow-x-auto scrollbar-hide" >
                                <button type = "button" class = "mood-btn active" data-mood = "heart"
                                        data-color = "#FF6B8B" data-icon = "❤️" >
                                    <div class = "w-12 h-12 rounded-full bg-heart/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-heart text-xl text-heart" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >心动</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "happy" data-color = "#81E67F"
                                        data-icon = "😊" >
                                    <div class = "w-12 h-12 rounded-full bg-happy/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-smile text-xl text-happy" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >开心</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "laugh" data-color = "#FFD700"
                                        data-icon = "😆" >
                                    <div class = "w-12 h-12 rounded-full bg-laugh/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-laugh text-xl text-laugh" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >大笑</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "sad" data-color = "#64748B"
                                        data-icon = "😢" >
                                    <div class = "w-12 h-12 rounded-full bg-sad/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-frown text-xl text-sad" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >难过</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "angry" data-color = "#EF4444"
                                        data-icon = "😤" >
                                    <div class = "w-12 h-12 rounded-full bg-angry/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-angry text-xl text-angry" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >生气</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "calm" data-color = "#9CA3AF"
                                        data-icon = "😐" >
                                    <div class = "w-12 h-12 rounded-full bg-calm/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-meh text-xl text-calm" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >平静</span >
                                </button >
                            </div >
                            <input type = "hidden" name = "mood" id = "mood-input" value = "heart" >
                        </div >

                        <!-- 日记内容 -->
                        <div class = "mb-6" >
                            <label for = "content"
                                   class = "block text-sm font-medium text-neutral-700 mb-2" >今天发生了什么？</label >
                            <textarea id = "content" name = "content" rows = "6"
                                      class = "w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-custom resize-none"
                                      placeholder = "记录今天的心情和故事..." ></textarea >
                        </div >

                        <!-- 上传照片 -->
                        <div class = "mb-6" >
                            <label class = "block text-sm font-medium text-neutral-700 mb-2" >上传照片（可选）</label >
                            <div class = "border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary transition-custom cursor-pointer"
                                 id = "photo-upload-area" >
                                <input type = "file" id = "photo-input" name = "photos" multiple accept = "image/*"
                                       class = "hidden" >
                                <i class = "fa-solid fa-cloud-upload-alt text-3xl text-neutral-400 mb-3" ></i >
                                <p class = "text-neutral-600 mb-2" >点击或拖拽照片到这里</p >
                                <p class = "text-neutral-500 text-sm" >支持 JPG, PNG, GIF 格式</p >
                            </div >
                            <div id = "photo-preview-container" class = "grid grid-cols-3 gap-2 mt-3 hidden" ></div >
                        </div >

                        <!-- 底部操作区 -->
                        <div class = "flex justify-end space-x-3" >
                            <button type = "button" id = "cancel-diary"
                                    class = "px-4 py-2 border border-neutral-300 rounded-md text-neutral-700 hover:bg-neutral-50 transition-custom" >
                                取消
                            </button >
                            <button type = "submit"
                                    class = "px-6 py-2 bg-gradient-to-r from-primary to-secondary text-white rounded-lg hover:opacity-90 transition-custom shadow-md hover:shadow-lg flex items-center" >
                                <i class = "fa-solid fa-paper-plane mr-2" ></i >
                                <span >发布日记</span >
                            </button >
                        </div >
                    </form >
                </div >
            </div >

            <!-- 移动端快速写日记按钮 -->
            <button id = "mobile-new-diary-btn"
                    class = "fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-primary to-secondary rounded-full shadow-lg flex items-center justify-center text-white z-40 md:hidden animate-pulse-slow" >
                <i class = "fa-solid fa-plus text-xl" ></i >
            </button >

            <!-- 时间轴双视角布局 -->
            <div class = "relative" >
                <!-- 时间轴分割线 -->
                <div class = "hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-neutral-200 transform -translate-x-1/2" ></div >

                <!-- 时间轴条目 -->
                <div class = "space-y-12" >
                    <!-- 今天的日记 -->
                    <div class = "relative" >
                        <div class = "text-center mb-8" >
                            <span class = "inline-block px-4 py-1 bg-white rounded-full shadow-sm text-neutral-600 font-medium" >
                                <i class = "fa-solid fa-calendar-day mr-2" ></i >今天
                            </span >
                        </div >

                        <!-- TA的日记 -->
                        <div class = "md:ml-auto md:w-1/2 md:pr-12 partner-card" >
                            <div class = "bg-white rounded-xl shadow-md p-5 relative diary-card-hover"
                                 style = "--mood-color: #81E67F;" data-mood = "happy" >
                                <div class = "mood-indicator" data-icon = "😊" ></div >
                                <div class = "flex justify-between items-start mb-3" >
                                    <div class = "flex items-center" >
                                        <div class = "w-8 h-8 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=2" alt = "TA的头像"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <span class = "font-medium" >TA</span >
                                    </div >
                                    <span class = "text-sm text-neutral-500" >10:23</span >
                                </div >
                                <p class = "text-neutral-700 mb-4" >今天早上收到了你的早餐惊喜，太开心了！鸡蛋煎得刚刚好，咖啡也是我喜欢的甜度。有你真好❤️</p >
                                <div class = "rounded-lg overflow-hidden mb-4" >
                                    <img src = "https://picsum.photos/600/400?random=10" alt = "早餐照片"
                                         class = "w-full h-auto" >
                                </div >
                                <div class = "flex justify-between items-center" >
                                    <span class = "text-xs text-happy bg-happy/10 px-2 py-1 rounded-full" >开心的一天</span >
                                    <div class = "flex items-center space-x-3" >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom" >
                                            <i class = "fa-solid fa-heart" ></i >
                                        </button >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom response-btn"
                                                data-diary-id = "1" >
                                            <i class = "fa-solid fa-reply" ></i >
                                        </button >
                                    </div >
                                </div >

                                <!-- 回应区域 -->
                                <div class = "mt-4 pt-4 border-t border-neutral-100" >
                                    <div class = "flex items-start mb-2" >
                                        <div class = "w-6 h-6 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=1" alt = "我的头像"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <div class = "flex-1" >
                                            <div class = "bg-neutral-100 rounded-lg p-3" >
                                                <p class = "text-sm text-neutral-700" >看到你开心我也很满足呀～下次给你做你最爱吃的华夫饼！</p >
                                            </div >
                                        </div >
                                    </div >
                                </div >
                            </div >
                        </div >
                    </div >

                    <!-- 昨天的日记 -->
                    <div class = "relative" >
                        <div class = "text-center mb-8" >
                            <span class = "inline-block px-4 py-1 bg-white rounded-full shadow-sm text-neutral-600 font-medium" >
                                <i class = "fa-solid fa-calendar-day mr-2" ></i >昨天
                            </span >
                        </div >

                        <!-- 我的日记 -->
                        <div class = "md:w-1/2 md:pl-12" >
                            <div class = "bg-white rounded-xl shadow-md p-5 relative diary-card-hover"
                                 style = "--mood-color: #FF6B8B;" data-mood = "heart" >
                                <div class = "mood-indicator" data-icon = "❤️" ></div >
                                <div class = "flex justify-between items-start mb-3" >
                                    <div class = "flex items-center" >
                                        <div class = "w-8 h-8 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=1" alt = "我的头像"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <span class = "font-medium" >我</span >
                                    </div >
                                    <span class = "text-sm text-neutral-500" >21:45</span >
                                </div >
                                <p class = "text-neutral-700 mb-4" >今天陪你去看了你最喜欢的乐队演出，现场气氛太赞了！你跟着音乐摇摆的样子真的好可爱，那一刻觉得能和你在一起真的好幸福。</p >
                                <div class = "grid grid-cols-2 gap-2 mb-4" >
                                    <img src = "https://picsum.photos/300/300?random=11" alt = "演出照片1"
                                         class = "w-full h-32 object-cover rounded-lg" >
                                    <img src = "https://picsum.photos/300/300?random=12" alt = "演出照片2"
                                         class = "w-full h-32 object-cover rounded-lg" >
                                </div >
                                <div class = "flex justify-between items-center" >
                                    <span class = "text-xs text-heart bg-heart/10 px-2 py-1 rounded-full" >心动时刻</span >
                                    <div class = "flex items-center space-x-3" >
                                        <button class = "text-primary transition-custom" >
                                            <i class = "fa-solid fa-heart" ></i > 5
                                        </button >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom response-btn"
                                                data-diary-id = "2" >
                                            <i class = "fa-solid fa-reply" ></i >
                                        </button >
                                    </div >
                                </div >

                                <!-- 回应区域 -->
                                <div class = "mt-4 pt-4 border-t border-neutral-100" >
                                    <div class = "flex items-start mb-2" >
                                        <div class = "w-6 h-6 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=2" alt = "TA的头像"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <div class = "flex-1" >
                                            <div class = "bg-neutral-100 rounded-lg p-3" >
                                                <p class = "text-sm text-neutral-700" >哈哈，我也很开心你能陪我去！这是我今年最棒的一次体验，谢谢你～❤️</p >
                                            </div >
                                        </div >
                                    </div >
                                </div >
                            </div >
                        </div >

                        <!-- TA的日记 -->
                        <div class = "md:ml-auto md:w-1/2 md:pr-12 partner-card mt-8 md:mt-0" >
                            <div class = "bg-white rounded-xl shadow-md p-5 relative diary-card-hover"
                                 style = "--mood-color: #FFD700;" data-mood = "laugh" >
                                <div class = "mood-indicator" data-icon = "😆" ></div >
                                <div class = "flex justify-between items-start mb-3" >
                                    <div class = "flex items-center" >
                                        <div class = "w-8 h-8 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=2" alt = "TA的头像"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <span class = "font-medium" >TA</span >
                                    </div >
                                    <span class = "text-sm text-neutral-500" >23:15</span >
                                </div >
                                <p class = "text-neutral-700 mb-4" >演出结束后我们去吃夜宵，你把芥末当成了番茄酱，那表情真的太好笑了！哈哈哈哈，不过看你为了我硬吃下去的样子，心里还是暖暖的～</p >
                                <div class = "rounded-lg overflow-hidden mb-4" >
                                    <img src = "https://picsum.photos/600/400?random=13" alt = "夜宵照片"
                                         class = "w-full h-auto" >
                                </div >
                                <div class = "flex justify-between items-center" >
                                    <span class = "text-xs text-laugh bg-laugh/10 px-2 py-1 rounded-full" >欢乐时刻</span >
                                    <div class = "flex items-center space-x-3" >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom" >
                                            <i class = "fa-solid fa-heart" ></i >
                                        </button >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom response-btn"
                                                data-diary-id = "3" >
                                            <i class = "fa-solid fa-reply" ></i >
                                        </button >
                                    </div >
                                </div >
                            </div >
                        </div >
                    </div >

                    <!-- 其他日期的日记 -->
                    <div class = "relative" >
                        <div class = "text-center mb-8" >
                            <span class = "inline-block px-4 py-1 bg-white rounded-full shadow-sm text-neutral-600 font-medium" >
                                <i class = "fa-solid fa-calendar-day mr-2" ></i >5月28日
                            </span>
                        </div >
                    </div>
                </div >
            </div >
        </div >
    </main >

    <!-- 页脚 -->
    <footer class = "bg-white border-t border-neutral-200 py-8" >
        <div class = "container mx-auto px-4" >
            <div class = "flex flex-col md:flex-row justify-between items-center" >
                <div class = "flex items-center space-x-2" >
                    <div class = "w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full text-white" >
                        <i class = "fa-solid fa-heart" ></i >
                    </div >
                    <span class = "text-lg font-bold" >LoveSync日记</span >
                </div >
                <div class = "text-neutral-500 text-sm" >
                    &copy; 2025 LoveSync. 记录每一刻心动时光
                </div >
            </div >
        </div >
    </footer >

    <!-- 交互逻辑 -->
    <script >
        // 全局变量
        let currentMood = 'heart';
        const moodIcons = {
            heart: '❤️',
            happy: '😊',
            laugh: '😆',
            sad: '😢',
            angry: '😤',
            calm: '😐'
        };

        // 打开写日记模态框
        const newDiaryBtn = document.getElementById('new-diary-btn');
        const mobileNewDiaryBtn = document.getElementById('mobile-new-diary-btn');
        const newDiaryModal = document.getElementById('new-diary-modal');
        const modalBackdrop = document.getElementById('modal-backdrop');

        function openModal() {
            newDiaryModal.classList.remove('hidden');
            modalBackdrop.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            newDiaryModal.classList.add('hidden');
            modalBackdrop.classList.add('hidden');
            document.body.style.overflow = 'auto';
            resetForm();
        }

        newDiaryBtn?.addEventListener('click', openModal);
        mobileNewDiaryBtn?.addEventListener('click', openModal);
        document.getElementById('close-modal')?.addEventListener('click', closeModal);
        modalBackdrop?.addEventListener('click', closeModal);

        // 心情选择器
        document.querySelectorAll('.mood-btn').forEach(button => {
            button.addEventListener('click', function () {
                document.querySelectorAll('.mood-btn.active').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                currentMood = this.dataset.mood;
                document.getElementById('mood-input').value = currentMood;
            });
        });

        // 照片上传预览
        const photoUploadArea = document.getElementById('photo-upload-area');
        const photoInput = document.getElementById('photo-input');
        const photoPreviewContainer = document.getElementById('photo-preview-container');

        function handlePhotoUpload(e) {
            const files = e.target.files;
            previewPhotos(files);
        }

        function previewPhotos(files) {
            photoPreviewContainer.innerHTML = '';
            if (!files.length) return;

            photoPreviewContainer.classList.remove('hidden');
            Array.from(files).forEach(file => {
                if (!file.type.startsWith('image/')) return;

                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.className = 'w-full h-24 object-cover rounded-lg';
                photoPreviewContainer.appendChild(img);
            });
        }

        photoUploadArea.addEventListener('click', () => photoInput.click());
        photoInput.addEventListener('change', handlePhotoUpload);

        // 表单提交
        const diaryForm = document.getElementById('diary-form');
        diaryForm.addEventListener('submit', function (e) {
            e.preventDefault();
            // 这里添加实际提交逻辑（如AJAX或表单提交）
            alert('日记已保存！');
            closeModal();
        });

        // 移动端菜单切换
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        menuToggle.addEventListener('click', function () {
            mobileMenu.classList.toggle('hidden');
            mobileMenu.classList.toggle('translate-y-0');
            mobileMenu.classList.toggle('opacity-100');
        });

        // 日记卡片互动
        document.querySelectorAll('.response-btn').forEach(button => {
            button.addEventListener('click', function () {
                const diaryId = this.dataset.diaryId;
                alert(`回复日记 ${diaryId}`);
            });
        });

        // 动态心情动画
        function updateBodyMoodColor(color) {
            document.body.style.setProperty('--mood-color', color);
            if (color === '#FFD700') {
                confetti({particleCount: 30, spread: 360, startVelocity: 30});
            } else if (color === '#EF4444') {
                document.body.classList.add('blur-effect');
                setTimeout(() => document.body.classList.remove('blur-effect'), 2000);
            }
        }

        // 初始化心情颜色
        updateBodyMoodColor('#FF6B8B');
    </script >

    <!-- 粒子动画库（可选） -->
    <script src = "https://unpkg.com/confetti-js@1.0.5/dist/confetti.browser.min.js" ></script >
</body >
</html >