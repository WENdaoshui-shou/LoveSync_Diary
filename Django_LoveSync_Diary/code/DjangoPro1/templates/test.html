<!DOCTYPE html>
<html lang = "zh-CN" >
<head >
    <meta charset = "UTF-8" >
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0" >
    <title >çˆ±æƒ…åŒæ­¥æ—¥è®°</title >
    <script src = "https://cdn.tailwindcss.com" ></script >
    <link href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel = "stylesheet" >
    <script src = "https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js" ></script >
    <link href = "https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
          rel = "stylesheet" >

    <!-- Tailwindé…ç½® -->
    <script >
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B', // çˆ±æƒ…ç²‰è‰²
                        secondary: '#722ED1', // ç´«è‰²è¾…åŠ©è‰²
                        heart: '#FF6B8B',    // å¿ƒåŠ¨
                        happy: '#81E67F',    // å¼€å¿ƒ
                        laugh: '#FFD700',    // å¤§ç¬‘
                        sad: '#64748B',      // éš¾è¿‡
                        angry: '#EF4444',    // ç”Ÿæ°”
                        calm: '#9CA3AF',     // å¹³é™
                        neutral: {
                            100: '#F9F9F9',
                            200: '#F0F0F0',
                            300: '#E0E0E0',
                            400: '#BDBDBD',
                            500: '#9E9E9E',
                            600: '#757575',
                            700: '#616161',
                            800: '#424242',
                            900: '#212121',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': {opacity: '0'},
                            '100%': {opacity: '1'},
                        },
                        slideUp: {
                            '0%': {transform: 'translateY(20px)', opacity: '0'},
                            '100%': {transform: 'translateY(0)', opacity: '1'},
                        }
                    }
                },
            }
        }
    </script >

    <style type = "text/tailwindcss" >
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }

            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }

            .mood-gradient {
                background: linear-gradient(135deg, var(--mood-color, #FF6B8B)/10%, transparent);
            }

            .blur-effect {
                backdrop-filter: blur(2px);
                transition: backdrop-filter 0.3s ease;
            }

            .timeline-line {
                position: absolute;
                top: 0;
                bottom: 0;
                width: 2px;
                background-color: var(--mood-color, #FF6B8B);
                left: 50%;
                transform: translateX(-50%);
            }

            .diary-card-hover {
                transition: all 0.3s ease;
            }

            .diary-card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.01);
            }

            .mood-indicator {
                position: absolute;
                left: -16px;
                top: 12px;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                background-color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 0 0 2px var(--mood-color, #FF6B8B);
            }

            .mood-indicator::after {
                content: attr(data-icon);
                font-size: 18px;
                color: var(--mood-color, #FF6B8B);
            }

            .partner-card .mood-indicator {
                left: auto;
                right: -16px;
            }
        }
    </style >
</head >
<body class = "font-inter bg-neutral-100 text-neutral-800 min-h-screen flex flex-col overflow-x-hidden relative scroll-smooth" >
    <!-- èƒŒæ™¯è£…é¥° -->
    <div class = "absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none" >
        <div class = "absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full filter blur-3xl animate-pulse-slow" ></div >
        <div class = "absolute -bottom-20 -right-20 w-80 h-80 bg-secondary/10 rounded-full filter blur-3xl animate-pulse-slow"
             style = "animation-delay: -2s;" ></div >
    </div >

    <!-- å¯¼èˆªæ  -->
    <header class = "fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-sm py-3" >
        <div class = "container mx-auto px-4 flex items-center justify-between" >
            <!-- å“ç‰Œæ ‡è¯† -->
            <a href = "#" class = "flex items-center space-x-2" >
                <div class = "w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white shadow-md" >
                    <i class = "fa-solid fa-book text-xl" ></i >
                </div >
                <span class = "text-xl font-bold text-neutral-800 tracking-tight" >LoveSync</span >
            </a >

            <!-- æ¡Œé¢ç«¯å¯¼èˆªèœå• -->
            <nav class = "hidden md:flex items-center space-x-6" >
                <a href = "{% url 'index' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >åŒäººæ—¥è®°</a >
                <a href = "{% url 'community' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >ç¤¾åŒº</a >
                <a href = "{% url 'moments' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >æˆ‘ä»¬çš„åŠ¨æ€</a >
                <a href = "{% url 'photo_album' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >ç›¸å†Œ</a >
                <a href = "{% url 'favorites' %}"
                   class = "text-neutral-700 hover:text-primary transition-custom font-medium px-1 py-2 border-b-2 border-transparent hover:border-primary" >æ”¶è—</a >
            </nav >

            <!-- ç”¨æˆ·æ“ä½œåŒº -->
            <div class = "flex items-center space-x-4" >
                <a href = "{% url 'moments' %}" id = "createPostLink"
                   class = "hidden md:flex items-center space-x-2 px-5 py-2 rounded-full bg-gradient-love text-white hover:opacity-90 transition-custom shadow-md hover:shadow-lg" >
                    <i class = "fa-solid fa-pencil" ></i >
                    <span >å‘å¸ƒåŠ¨æ€</span >
                </a >

                <button id = "new-diary-btn"
                        class = "hidden md:flex items-center space-x-2 px-5 py-2 rounded-full bg-gradient-to-r from-primary to-secondary text-white hover:opacity-90 transition-custom shadow-md hover:shadow-lg" >
                    <i class = "fa-solid fa-plus" ></i >
                    <span >å†™æ—¥è®°</span >
                </button >

                <!-- ç”¨æˆ·å¤´åƒä¸ä¸‹æ‹‰èœå• -->
                <div class = "relative" id = "userDropdown" >
                    <div class = "w-10 h-10 rounded-full overflow-hidden border-2 border-primary cursor-pointer shadow-sm"
                         id = "userAvatar" >
                        <img src = "https://picsum.photos/200/200?random=1" alt = "ç”¨æˆ·å¤´åƒ"
                             class = "w-full h-full object-cover" >
                    </div >
                    <div class = "absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50 hidden"
                         id = "userOptions" >
                        <a href = "{% url 'personal_center' %}"
                           class = "block px-4 py-2 text-neutral-700 hover:bg-neutral-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-user mr-2 w-5 text-center" ></i >ä¸»é¡µ
                        </a >
                        <a href = "{% url 'message' %}"
                           class = "block px-4 py-2 text-neutral-700 hover:bg-neutral-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-bookmark mr-2 w-5 text-center" ></i >æ¶ˆæ¯
                        </a >
                        <a href = "{% url 'settings' %}"
                           class = "block px-4 py-2 text-neutral-700 hover:bg-neutral-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-cog mr-2 w-5 text-center" ></i >è®¾ç½®
                        </a >
                        <div class = "border-t border-neutral-200 my-1" ></div >
                        <a href = "{% url 'logout' %}"
                           class = "block px-4 py-2 text-red-500 hover:bg-red-50 transition-custom flex items-center" >
                            <i class = "fa-solid fa-sign-out mr-2 w-5 text-center" ></i >é€€å‡ºç™»å½•
                        </a >
                    </div >
                </div >

                <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
                <button class = "md:hidden text-neutral-700 focus:outline-none" id = "menu-toggle" >
                    <i class = "fa-solid fa-bars text-xl" ></i >
                </button >
            </div >
        </div >

        <!-- ç§»åŠ¨ç«¯èœå• -->
        <div id = "mobile-menu"
             class = "hidden md:hidden bg-white shadow-lg absolute w-full transform -translate-y-2 opacity-0 transition-all duration-200 ease-in-out"
             style = "top: 100%;" >
            <div class = "container mx-auto px-4 py-3 flex flex-col space-y-3" >
                <a href = "{% url 'index' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-book-open mr-3 w-5 text-center" ></i >åŒäººæ—¥è®°
                </a >
                <a href = "{% url 'community' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-users mr-3 w-5 text-center" ></i >ç¤¾åŒº
                </a >
                <a href = "{% url 'moments' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-bolt mr-3 w-5 text-center" ></i >æˆ‘ä»¬çš„åŠ¨æ€
                </a >
                <a href = "{% url 'photo_album' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-images mr-3 w-5 text-center" ></i >ç›¸å†Œ
                </a >
                <a href = "{% url 'favorites' %}"
                   class = "text-neutral-700 hover:text-primary py-2 transition-custom font-medium flex items-center" >
                    <i class = "fa-solid fa-bookmark mr-3 w-5 text-center" ></i >æ”¶è—
                </a >
                <div class = "border-t border-neutral-200 my-1" ></div >
                <a href = "{% url 'personal_center' %}"
                   class = "text-neutral-700 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-user mr-3 w-5 text-center" ></i >ä¸ªäººä¸»é¡µ
                </a >
                <a href = "{% url 'message' %}" class = "text-neutral-700 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-bookmark mr-3 w-5 text-center" ></i >æ¶ˆæ¯ä¸­å¿ƒ
                </a >
                <a href = "{% url 'settings' %}" class = "text-neutral-700 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-cog mr-3 w-5 text-center" ></i >è®¾ç½®ä¸­å¿ƒ
                </a >
                <div class = "border-t border-neutral-200 my-1" ></div >
                <a href = "{% url 'logout' %}" class = "text-red-500 py-2 transition-custom flex items-center" >
                    <i class = "fa-solid fa-sign-out mr-3 w-5 text-center" ></i >é€€å‡ºç™»å½•
                </a >
            </div >
        </div >
    </header >

    <!-- ä¸»å†…å®¹åŒº -->
    <main class = "flex-grow pt-24 pb-16 relative z-10" >
        <div class = "container mx-auto px-4" >
            <!-- é¡¶éƒ¨æ•°æ®æ¦‚è§ˆ -->
            <div class = "bg-white rounded-xl shadow-lg p-6 mb-8 animate-fade-in" >
                <div class = "flex flex-col md:flex-row items-center justify-between" >
                    <div class = "mb-4 md:mb-0" >
                        <h2 class = "text-2xl font-bold text-neutral-800 mb-1" >æˆ‘ä»¬çš„çˆ±æƒ…æ—¥è®°</h2 >
                        <p class = "text-neutral-600" >å·²å…±åŒè®°å½• <span class = "text-primary font-semibold" >42</span > ç¯‡æ—¥è®° Â· ç›¸æ‹ <span
                                class = "text-primary font-semibold" >365</span > å¤©</p >
                    </div >

                    <div class = "flex space-x-4" >
                        <div class = "bg-neutral-100 rounded-lg p-3 flex items-center space-x-3" >
                            <div class = "w-10 h-10 rounded-full overflow-hidden" >
                                <img src = "https://picsum.photos/200/200?random=1" alt = "æˆ‘çš„å¤´åƒ"
                                     class = "w-full h-full object-cover" >
                            </div >
                            <div >
                                <p class = "text-sm font-medium" >æˆ‘</p >
                                <p class = "text-xs text-neutral-500" >å·²å†™ 23 ç¯‡</p >
                            </div >
                        </div >

                        <div class = "bg-neutral-100 rounded-lg p-3 flex items-center space-x-3" >
                            <div class = "w-10 h-10 rounded-full overflow-hidden" >
                                <img src = "https://picsum.photos/200/200?random=2" alt = "ä¼´ä¾£å¤´åƒ"
                                     class = "w-full h-full object-cover" >
                            </div >
                            <div >
                                <p class = "text-sm font-medium" >TA</p >
                                <p class = "text-xs text-neutral-500" >å·²å†™ 19 ç¯‡</p >
                            </div >
                        </div >
                    </div >
                </div >

                <!-- æœ¬å‘¨å¿ƒæƒ…ç»Ÿè®¡ -->
                <div class = "mt-6 pt-6 border-t border-neutral-200" >
                    <h3 class = "text-lg font-semibold text-neutral-800 mb-4" >æœ¬å‘¨å¿ƒæƒ…</h3 >
                    <div class = "grid grid-cols-2 md:grid-cols-6 gap-3" >
                        <div class = "bg-heart/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >â¤ï¸</div >
                            <p class = "text-sm font-medium" >å¿ƒåŠ¨</p >
                            <p class = "text-xs text-heart" >3 æ¬¡</p >
                        </div >
                        <div class = "bg-happy/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >ğŸ˜Š</div >
                            <p class = "text-sm font-medium" >å¼€å¿ƒ</p >
                            <p class = "text-xs text-happy" >5 æ¬¡</p >
                        </div >
                        <div class = "bg-laugh/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >ğŸ˜†</div >
                            <p class = "text-sm font-medium" >å¤§ç¬‘</p >
                            <p class = "text-xs text-laugh" >2 æ¬¡</p >
                        </div >
                        <div class = "bg-sad/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >ğŸ˜¢</div >
                            <p class = "text-sm font-medium" >éš¾è¿‡</p >
                            <p class = "text-xs text-sad" >1 æ¬¡</p >
                        </div >
                        <div class = "bg-angry/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >ğŸ˜¤</div >
                            <p class = "text-sm font-medium" >ç”Ÿæ°”</p >
                            <p class = "text-xs text-angry" >0 æ¬¡</p >
                        </div >
                        <div class = "bg-calm/10 rounded-lg p-3 text-center" >
                            <div class = "text-2xl mb-1" >ğŸ˜</div >
                            <p class = "text-sm font-medium" >å¹³é™</p >
                            <p class = "text-xs text-calm" >2 æ¬¡</p >
                        </div >
                    </div >
                </div >
            </div >

            <!-- å†™æ—¥è®°æ¨¡æ€æ¡† -->
            <div id = "new-diary-modal" class = "fixed inset-0 z-50 flex items-center justify-center hidden" >
                <div class = "absolute inset-0 bg-black/50 backdrop-blur-sm" id = "modal-backdrop" ></div >
                <div class = "bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-slide-up relative z-10" >
                    <div class = "p-6 border-b border-neutral-200 flex justify-between items-center" >
                        <h3 class = "text-xl font-bold text-neutral-800" >å†™æ—¥è®°</h3 >
                        <button id = "close-modal" class = "text-neutral-500 hover:text-neutral-800" >
                            <i class = "fa-solid fa-times" ></i >
                        </button >
                    </div >

                    <form id = "diary-form" method = "POST" enctype = "multipart/form-data" class = "p-6" >
                        {% csrf_token %}

                        <!-- ä»Šæ—¥å¿ƒæƒ…é€‰æ‹© -->
                        <div class = "mb-6" >
                            <label class = "block text-sm font-medium text-neutral-700 mb-2" >ä»Šæ—¥å¿ƒæƒ…</label >
                            <div class = "flex space-x-4 overflow-x-auto scrollbar-hide" >
                                <button type = "button" class = "mood-btn active" data-mood = "heart"
                                        data-color = "#FF6B8B" data-icon = "â¤ï¸" >
                                    <div class = "w-12 h-12 rounded-full bg-heart/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-heart text-xl text-heart" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >å¿ƒåŠ¨</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "happy" data-color = "#81E67F"
                                        data-icon = "ğŸ˜Š" >
                                    <div class = "w-12 h-12 rounded-full bg-happy/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-smile text-xl text-happy" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >å¼€å¿ƒ</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "laugh" data-color = "#FFD700"
                                        data-icon = "ğŸ˜†" >
                                    <div class = "w-12 h-12 rounded-full bg-laugh/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-laugh text-xl text-laugh" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >å¤§ç¬‘</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "sad" data-color = "#64748B"
                                        data-icon = "ğŸ˜¢" >
                                    <div class = "w-12 h-12 rounded-full bg-sad/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-frown text-xl text-sad" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >éš¾è¿‡</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "angry" data-color = "#EF4444"
                                        data-icon = "ğŸ˜¤" >
                                    <div class = "w-12 h-12 rounded-full bg-angry/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-angry text-xl text-angry" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >ç”Ÿæ°”</span >
                                </button >
                                <button type = "button" class = "mood-btn" data-mood = "calm" data-color = "#9CA3AF"
                                        data-icon = "ğŸ˜" >
                                    <div class = "w-12 h-12 rounded-full bg-calm/10 flex items-center justify-center" >
                                        <i class = "fa-solid fa-meh text-xl text-calm" ></i >
                                    </div >
                                    <span class = "text-xs mt-1" >å¹³é™</span >
                                </button >
                            </div >
                            <input type = "hidden" name = "mood" id = "mood-input" value = "heart" >
                        </div >

                        <!-- æ—¥è®°å†…å®¹ -->
                        <div class = "mb-6" >
                            <label for = "content"
                                   class = "block text-sm font-medium text-neutral-700 mb-2" >ä»Šå¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</label >
                            <textarea id = "content" name = "content" rows = "6"
                                      class = "w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-custom resize-none"
                                      placeholder = "è®°å½•ä»Šå¤©çš„å¿ƒæƒ…å’Œæ•…äº‹..." ></textarea >
                        </div >

                        <!-- ä¸Šä¼ ç…§ç‰‡ -->
                        <div class = "mb-6" >
                            <label class = "block text-sm font-medium text-neutral-700 mb-2" >ä¸Šä¼ ç…§ç‰‡ï¼ˆå¯é€‰ï¼‰</label >
                            <div class = "border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary transition-custom cursor-pointer"
                                 id = "photo-upload-area" >
                                <input type = "file" id = "photo-input" name = "photos" multiple accept = "image/*"
                                       class = "hidden" >
                                <i class = "fa-solid fa-cloud-upload-alt text-3xl text-neutral-400 mb-3" ></i >
                                <p class = "text-neutral-600 mb-2" >ç‚¹å‡»æˆ–æ‹–æ‹½ç…§ç‰‡åˆ°è¿™é‡Œ</p >
                                <p class = "text-neutral-500 text-sm" >æ”¯æŒ JPG, PNG, GIF æ ¼å¼</p >
                            </div >
                            <div id = "photo-preview-container" class = "grid grid-cols-3 gap-2 mt-3 hidden" ></div >
                        </div >

                        <!-- åº•éƒ¨æ“ä½œåŒº -->
                        <div class = "flex justify-end space-x-3" >
                            <button type = "button" id = "cancel-diary"
                                    class = "px-4 py-2 border border-neutral-300 rounded-md text-neutral-700 hover:bg-neutral-50 transition-custom" >
                                å–æ¶ˆ
                            </button >
                            <button type = "submit"
                                    class = "px-6 py-2 bg-gradient-to-r from-primary to-secondary text-white rounded-lg hover:opacity-90 transition-custom shadow-md hover:shadow-lg flex items-center" >
                                <i class = "fa-solid fa-paper-plane mr-2" ></i >
                                <span >å‘å¸ƒæ—¥è®°</span >
                            </button >
                        </div >
                    </form >
                </div >
            </div >

            <!-- ç§»åŠ¨ç«¯å¿«é€Ÿå†™æ—¥è®°æŒ‰é’® -->
            <button id = "mobile-new-diary-btn"
                    class = "fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-primary to-secondary rounded-full shadow-lg flex items-center justify-center text-white z-40 md:hidden animate-pulse-slow" >
                <i class = "fa-solid fa-plus text-xl" ></i >
            </button >

            <!-- æ—¶é—´è½´åŒè§†è§’å¸ƒå±€ -->
            <div class = "relative" >
                <!-- æ—¶é—´è½´åˆ†å‰²çº¿ -->
                <div class = "hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-neutral-200 transform -translate-x-1/2" ></div >

                <!-- æ—¶é—´è½´æ¡ç›® -->
                <div class = "space-y-12" >
                    <!-- ä»Šå¤©çš„æ—¥è®° -->
                    <div class = "relative" >
                        <div class = "text-center mb-8" >
                            <span class = "inline-block px-4 py-1 bg-white rounded-full shadow-sm text-neutral-600 font-medium" >
                                <i class = "fa-solid fa-calendar-day mr-2" ></i >ä»Šå¤©
                            </span >
                        </div >

                        <!-- TAçš„æ—¥è®° -->
                        <div class = "md:ml-auto md:w-1/2 md:pr-12 partner-card" >
                            <div class = "bg-white rounded-xl shadow-md p-5 relative diary-card-hover"
                                 style = "--mood-color: #81E67F;" data-mood = "happy" >
                                <div class = "mood-indicator" data-icon = "ğŸ˜Š" ></div >
                                <div class = "flex justify-between items-start mb-3" >
                                    <div class = "flex items-center" >
                                        <div class = "w-8 h-8 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=2" alt = "TAçš„å¤´åƒ"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <span class = "font-medium" >TA</span >
                                    </div >
                                    <span class = "text-sm text-neutral-500" >10:23</span >
                                </div >
                                <p class = "text-neutral-700 mb-4" >ä»Šå¤©æ—©ä¸Šæ”¶åˆ°äº†ä½ çš„æ—©é¤æƒŠå–œï¼Œå¤ªå¼€å¿ƒäº†ï¼é¸¡è›‹ç…å¾—åˆšåˆšå¥½ï¼Œå’–å•¡ä¹Ÿæ˜¯æˆ‘å–œæ¬¢çš„ç”œåº¦ã€‚æœ‰ä½ çœŸå¥½â¤ï¸</p >
                                <div class = "rounded-lg overflow-hidden mb-4" >
                                    <img src = "https://picsum.photos/600/400?random=10" alt = "æ—©é¤ç…§ç‰‡"
                                         class = "w-full h-auto" >
                                </div >
                                <div class = "flex justify-between items-center" >
                                    <span class = "text-xs text-happy bg-happy/10 px-2 py-1 rounded-full" >å¼€å¿ƒçš„ä¸€å¤©</span >
                                    <div class = "flex items-center space-x-3" >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom" >
                                            <i class = "fa-solid fa-heart" ></i >
                                        </button >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom response-btn"
                                                data-diary-id = "1" >
                                            <i class = "fa-solid fa-reply" ></i >
                                        </button >
                                    </div >
                                </div >

                                <!-- å›åº”åŒºåŸŸ -->
                                <div class = "mt-4 pt-4 border-t border-neutral-100" >
                                    <div class = "flex items-start mb-2" >
                                        <div class = "w-6 h-6 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=1" alt = "æˆ‘çš„å¤´åƒ"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <div class = "flex-1" >
                                            <div class = "bg-neutral-100 rounded-lg p-3" >
                                                <p class = "text-sm text-neutral-700" >çœ‹åˆ°ä½ å¼€å¿ƒæˆ‘ä¹Ÿå¾ˆæ»¡è¶³å‘€ï½ä¸‹æ¬¡ç»™ä½ åšä½ æœ€çˆ±åƒçš„åå¤«é¥¼ï¼</p >
                                            </div >
                                        </div >
                                    </div >
                                </div >
                            </div >
                        </div >
                    </div >

                    <!-- æ˜¨å¤©çš„æ—¥è®° -->
                    <div class = "relative" >
                        <div class = "text-center mb-8" >
                            <span class = "inline-block px-4 py-1 bg-white rounded-full shadow-sm text-neutral-600 font-medium" >
                                <i class = "fa-solid fa-calendar-day mr-2" ></i >æ˜¨å¤©
                            </span >
                        </div >

                        <!-- æˆ‘çš„æ—¥è®° -->
                        <div class = "md:w-1/2 md:pl-12" >
                            <div class = "bg-white rounded-xl shadow-md p-5 relative diary-card-hover"
                                 style = "--mood-color: #FF6B8B;" data-mood = "heart" >
                                <div class = "mood-indicator" data-icon = "â¤ï¸" ></div >
                                <div class = "flex justify-between items-start mb-3" >
                                    <div class = "flex items-center" >
                                        <div class = "w-8 h-8 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=1" alt = "æˆ‘çš„å¤´åƒ"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <span class = "font-medium" >æˆ‘</span >
                                    </div >
                                    <span class = "text-sm text-neutral-500" >21:45</span >
                                </div >
                                <p class = "text-neutral-700 mb-4" >ä»Šå¤©é™ªä½ å»çœ‹äº†ä½ æœ€å–œæ¬¢çš„ä¹é˜Ÿæ¼”å‡ºï¼Œç°åœºæ°”æ°›å¤ªèµäº†ï¼ä½ è·Ÿç€éŸ³ä¹æ‘‡æ‘†çš„æ ·å­çœŸçš„å¥½å¯çˆ±ï¼Œé‚£ä¸€åˆ»è§‰å¾—èƒ½å’Œä½ åœ¨ä¸€èµ·çœŸçš„å¥½å¹¸ç¦ã€‚</p >
                                <div class = "grid grid-cols-2 gap-2 mb-4" >
                                    <img src = "https://picsum.photos/300/300?random=11" alt = "æ¼”å‡ºç…§ç‰‡1"
                                         class = "w-full h-32 object-cover rounded-lg" >
                                    <img src = "https://picsum.photos/300/300?random=12" alt = "æ¼”å‡ºç…§ç‰‡2"
                                         class = "w-full h-32 object-cover rounded-lg" >
                                </div >
                                <div class = "flex justify-between items-center" >
                                    <span class = "text-xs text-heart bg-heart/10 px-2 py-1 rounded-full" >å¿ƒåŠ¨æ—¶åˆ»</span >
                                    <div class = "flex items-center space-x-3" >
                                        <button class = "text-primary transition-custom" >
                                            <i class = "fa-solid fa-heart" ></i > 5
                                        </button >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom response-btn"
                                                data-diary-id = "2" >
                                            <i class = "fa-solid fa-reply" ></i >
                                        </button >
                                    </div >
                                </div >

                                <!-- å›åº”åŒºåŸŸ -->
                                <div class = "mt-4 pt-4 border-t border-neutral-100" >
                                    <div class = "flex items-start mb-2" >
                                        <div class = "w-6 h-6 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=2" alt = "TAçš„å¤´åƒ"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <div class = "flex-1" >
                                            <div class = "bg-neutral-100 rounded-lg p-3" >
                                                <p class = "text-sm text-neutral-700" >å“ˆå“ˆï¼Œæˆ‘ä¹Ÿå¾ˆå¼€å¿ƒä½ èƒ½é™ªæˆ‘å»ï¼è¿™æ˜¯æˆ‘ä»Šå¹´æœ€æ£’çš„ä¸€æ¬¡ä½“éªŒï¼Œè°¢è°¢ä½ ï½â¤ï¸</p >
                                            </div >
                                        </div >
                                    </div >
                                </div >
                            </div >
                        </div >

                        <!-- TAçš„æ—¥è®° -->
                        <div class = "md:ml-auto md:w-1/2 md:pr-12 partner-card mt-8 md:mt-0" >
                            <div class = "bg-white rounded-xl shadow-md p-5 relative diary-card-hover"
                                 style = "--mood-color: #FFD700;" data-mood = "laugh" >
                                <div class = "mood-indicator" data-icon = "ğŸ˜†" ></div >
                                <div class = "flex justify-between items-start mb-3" >
                                    <div class = "flex items-center" >
                                        <div class = "w-8 h-8 rounded-full overflow-hidden mr-2" >
                                            <img src = "https://picsum.photos/200/200?random=2" alt = "TAçš„å¤´åƒ"
                                                 class = "w-full h-full object-cover" >
                                        </div >
                                        <span class = "font-medium" >TA</span >
                                    </div >
                                    <span class = "text-sm text-neutral-500" >23:15</span >
                                </div >
                                <p class = "text-neutral-700 mb-4" >æ¼”å‡ºç»“æŸåæˆ‘ä»¬å»åƒå¤œå®µï¼Œä½ æŠŠèŠ¥æœ«å½“æˆäº†ç•ªèŒ„é…±ï¼Œé‚£è¡¨æƒ…çœŸçš„å¤ªå¥½ç¬‘äº†ï¼å“ˆå“ˆå“ˆå“ˆï¼Œä¸è¿‡çœ‹ä½ ä¸ºäº†æˆ‘ç¡¬åƒä¸‹å»çš„æ ·å­ï¼Œå¿ƒé‡Œè¿˜æ˜¯æš–æš–çš„ï½</p >
                                <div class = "rounded-lg overflow-hidden mb-4" >
                                    <img src = "https://picsum.photos/600/400?random=13" alt = "å¤œå®µç…§ç‰‡"
                                         class = "w-full h-auto" >
                                </div >
                                <div class = "flex justify-between items-center" >
                                    <span class = "text-xs text-laugh bg-laugh/10 px-2 py-1 rounded-full" >æ¬¢ä¹æ—¶åˆ»</span >
                                    <div class = "flex items-center space-x-3" >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom" >
                                            <i class = "fa-solid fa-heart" ></i >
                                        </button >
                                        <button class = "text-neutral-400 hover:text-primary transition-custom response-btn"
                                                data-diary-id = "3" >
                                            <i class = "fa-solid fa-reply" ></i >
                                        </button >
                                    </div >
                                </div >
                            </div >
                        </div >
                    </div >

                    <!-- å…¶ä»–æ—¥æœŸçš„æ—¥è®° -->
                    <div class = "relative" >
                        <div class = "text-center mb-8" >
                            <span class = "inline-block px-4 py-1 bg-white rounded-full shadow-sm text-neutral-600 font-medium" >
                                <i class = "fa-solid fa-calendar-day mr-2" ></i >5æœˆ28æ—¥
                            </span>
                        </div >
                    </div>
                </div >
            </div >
        </div >
    </main >

    <!-- é¡µè„š -->
    <footer class = "bg-white border-t border-neutral-200 py-8" >
        <div class = "container mx-auto px-4" >
            <div class = "flex flex-col md:flex-row justify-between items-center" >
                <div class = "flex items-center space-x-2" >
                    <div class = "w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full text-white" >
                        <i class = "fa-solid fa-heart" ></i >
                    </div >
                    <span class = "text-lg font-bold" >LoveSyncæ—¥è®°</span >
                </div >
                <div class = "text-neutral-500 text-sm" >
                    &copy; 2025 LoveSync. è®°å½•æ¯ä¸€åˆ»å¿ƒåŠ¨æ—¶å…‰
                </div >
            </div >
        </div >
    </footer >

    <!-- äº¤äº’é€»è¾‘ -->
    <script >
        // å…¨å±€å˜é‡
        let currentMood = 'heart';
        const moodIcons = {
            heart: 'â¤ï¸',
            happy: 'ğŸ˜Š',
            laugh: 'ğŸ˜†',
            sad: 'ğŸ˜¢',
            angry: 'ğŸ˜¤',
            calm: 'ğŸ˜'
        };

        // æ‰“å¼€å†™æ—¥è®°æ¨¡æ€æ¡†
        const newDiaryBtn = document.getElementById('new-diary-btn');
        const mobileNewDiaryBtn = document.getElementById('mobile-new-diary-btn');
        const newDiaryModal = document.getElementById('new-diary-modal');
        const modalBackdrop = document.getElementById('modal-backdrop');

        function openModal() {
            newDiaryModal.classList.remove('hidden');
            modalBackdrop.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            newDiaryModal.classList.add('hidden');
            modalBackdrop.classList.add('hidden');
            document.body.style.overflow = 'auto';
            resetForm();
        }

        newDiaryBtn?.addEventListener('click', openModal);
        mobileNewDiaryBtn?.addEventListener('click', openModal);
        document.getElementById('close-modal')?.addEventListener('click', closeModal);
        modalBackdrop?.addEventListener('click', closeModal);

        // å¿ƒæƒ…é€‰æ‹©å™¨
        document.querySelectorAll('.mood-btn').forEach(button => {
            button.addEventListener('click', function () {
                document.querySelectorAll('.mood-btn.active').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                currentMood = this.dataset.mood;
                document.getElementById('mood-input').value = currentMood;
            });
        });

        // ç…§ç‰‡ä¸Šä¼ é¢„è§ˆ
        const photoUploadArea = document.getElementById('photo-upload-area');
        const photoInput = document.getElementById('photo-input');
        const photoPreviewContainer = document.getElementById('photo-preview-container');

        function handlePhotoUpload(e) {
            const files = e.target.files;
            previewPhotos(files);
        }

        function previewPhotos(files) {
            photoPreviewContainer.innerHTML = '';
            if (!files.length) return;

            photoPreviewContainer.classList.remove('hidden');
            Array.from(files).forEach(file => {
                if (!file.type.startsWith('image/')) return;

                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.className = 'w-full h-24 object-cover rounded-lg';
                photoPreviewContainer.appendChild(img);
            });
        }

        photoUploadArea.addEventListener('click', () => photoInput.click());
        photoInput.addEventListener('change', handlePhotoUpload);

        // è¡¨å•æäº¤
        const diaryForm = document.getElementById('diary-form');
        diaryForm.addEventListener('submit', function (e) {
            e.preventDefault();
            // è¿™é‡Œæ·»åŠ å®é™…æäº¤é€»è¾‘ï¼ˆå¦‚AJAXæˆ–è¡¨å•æäº¤ï¼‰
            alert('æ—¥è®°å·²ä¿å­˜ï¼');
            closeModal();
        });

        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        menuToggle.addEventListener('click', function () {
            mobileMenu.classList.toggle('hidden');
            mobileMenu.classList.toggle('translate-y-0');
            mobileMenu.classList.toggle('opacity-100');
        });

        // æ—¥è®°å¡ç‰‡äº’åŠ¨
        document.querySelectorAll('.response-btn').forEach(button => {
            button.addEventListener('click', function () {
                const diaryId = this.dataset.diaryId;
                alert(`å›å¤æ—¥è®° ${diaryId}`);
            });
        });

        // åŠ¨æ€å¿ƒæƒ…åŠ¨ç”»
        function updateBodyMoodColor(color) {
            document.body.style.setProperty('--mood-color', color);
            if (color === '#FFD700') {
                confetti({particleCount: 30, spread: 360, startVelocity: 30});
            } else if (color === '#EF4444') {
                document.body.classList.add('blur-effect');
                setTimeout(() => document.body.classList.remove('blur-effect'), 2000);
            }
        }

        // åˆå§‹åŒ–å¿ƒæƒ…é¢œè‰²
        updateBodyMoodColor('#FF6B8B');
    </script >

    <!-- ç²’å­åŠ¨ç”»åº“ï¼ˆå¯é€‰ï¼‰ -->
    <script src = "https://unpkg.com/confetti-js@1.0.5/dist/confetti.browser.min.js" ></script >
</body >
</html >